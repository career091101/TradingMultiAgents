
  You can now view your Streamlit app in your browser.

  Local URL: http://localhost:8501
  Network URL: http://192.168.50.9:8501

WARNING:root:TradingMultiAgents dataflows not available
INFO:webui.backend.backtest2_wrapper:Successfully imported backtest2 modules (direct import)
INFO:webui.backend.backtest2_wrapper:BacktestConfig type: <class 'type'>
INFO:webui.backend.backtest2_wrapper:BacktestConfig module: backtest2.core.config
INFO:webui.backend.backtest2_wrapper:BacktestConfig existing fields: ['name', 'symbols', 'time_range', 'initial_capital', 'random_seed', 'max_positions', 'position_limits', 'llm_config', 'data_sources', 'reflection_config', 'result_dir', 'slippage', 'commission', 'risk_free_rate', 'benchmark', 'start_date', 'end_date', 'agent_config', 'data_config', 'risk_config', 'enable_parallel', 'max_workers', 'cache_size', 'log_level', 'save_results', 'results_path', 'enable_monitoring']
INFO:webui.backend.backtest2_wrapper:Creating BacktestConfig - class type: <class 'type'>
INFO:webui.backend.backtest2_wrapper:BacktestConfig module: backtest2.core.config
INFO:webui.backend.backtest2_wrapper:BacktestConfig MRO: (<class 'backtest2.core.config.BacktestConfig'>, <class 'object'>)
INFO:webui.backend.backtest2_wrapper:Is dataclass: True
INFO:webui.backend.backtest2_wrapper:Dataclass fields: ['name', 'symbols', 'time_range', 'initial_capital', 'random_seed', 'max_positions', 'position_limits', 'llm_config', 'data_sources', 'reflection_config', 'result_dir', 'slippage', 'commission', 'risk_free_rate', 'benchmark', 'start_date', 'end_date', 'agent_config', 'data_config', 'risk_config', 'enable_parallel', 'max_workers', 'cache_size', 'log_level', 'save_results', 'results_path', 'enable_monitoring']
INFO:webui.backend.backtest2_wrapper:Has random_seed attr: True
INFO:webui.backend.backtest2_wrapper:BacktestConfig.__init__ signature: {'name': <class 'str'>, 'symbols': typing.List[str], 'time_range': typing.Optional[backtest2.core.config.TimeRange], 'initial_capital': <class 'float'>, 'random_seed': <class 'int'>, 'max_positions': <class 'int'>, 'position_limits': typing.Dict[backtest2.core.config.RiskProfile, float], 'llm_config': <class 'backtest2.core.config.LLMConfig'>, 'data_sources': typing.List[str], 'reflection_config': typing.Optional[typing.Dict[str, typing.Any]], 'result_dir': typing.Optional[pathlib._local.Path], 'slippage': <class 'float'>, 'commission': <class 'float'>, 'risk_free_rate': <class 'float'>, 'benchmark': <class 'str'>, 'start_date': typing.Optional[datetime.datetime], 'end_date': typing.Optional[datetime.datetime], 'agent_config': typing.Optional[backtest2.core.config.AgentConfig], 'data_config': typing.Optional[backtest2.core.config.DataConfig], 'risk_config': typing.Optional[backtest2.core.config.RiskConfig], 'enable_parallel': <class 'bool'>, 'max_workers': <class 'int'>, 'cache_size': <class 'int'>, 'log_level': <class 'str'>, 'save_results': <class 'bool'>, 'results_path': <class 'str'>, 'enable_monitoring': <class 'bool'>, 'return': None}
INFO:backtest2.core.engine:Starting backtest execution 0e69674c-3f4a-4c8a-b08b-a9a2e9364e93
INFO:backtest2.core.engine:Initializing backtest environment
INFO:backtest2.data.manager_simple:Initializing data manager
INFO:backtest2.agents.orchestrator:Initialized 12 agents
INFO:backtest2.core.engine:Loading benchmark data for SPY
INFO:backtest2.agents.orchestrator:Starting decision process adf826ad-2473-4b3c-98e1-ca9046f82254 for AAPL on 2025-04-22 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process e353629d-e833-440f-a50e-7eede327d44b for AAPL on 2025-04-23 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process f835b2f4-4c3b-46a1-b193-6c44244e48f4 for AAPL on 2025-04-24 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process b1cb95ba-424c-42d0-b1ef-d0c2bab1677b for AAPL on 2025-04-25 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process b676fd76-b6df-441f-b38b-dd79c9f728fe for AAPL on 2025-04-28 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 12821e2e-f0c0-44c6-91f5-d6f4c425900c for AAPL on 2025-04-29 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 142adb01-8d07-4954-ba62-6d06a0c857d4 for AAPL on 2025-04-30 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 156afbe5-8786-4f09-b36c-d68f215daa96 for AAPL on 2025-05-01 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 7de0ceba-c661-4736-800f-b6420304fcae for AAPL on 2025-05-02 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 71d6c215-87c7-4a7a-b3ee-acd65caa6362 for AAPL on 2025-05-05 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 28158cc6-c467-4825-b1eb-df214571acb7 for AAPL on 2025-05-06 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 32a8349d-eb43-4ca3-9209-f5c35c741205 for AAPL on 2025-05-07 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 92e71c1e-8364-4186-bfe5-d192bfdc91cc for AAPL on 2025-05-08 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 5fa605ab-f757-42d0-af28-c01547cc39f8 for AAPL on 2025-05-09 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process e96ab0e2-da0f-4e70-839a-949222d80cee for AAPL on 2025-05-12 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 5735a8d0-1c95-4f53-be50-84f8bee7a001 for AAPL on 2025-05-13 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process c8b76db2-561a-4721-b101-ce819e694941 for AAPL on 2025-05-14 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 3658b70f-a33b-4435-9061-c73259681750 for AAPL on 2025-05-15 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process b39d8d44-b518-4b72-a8f6-86649bb75fb6 for AAPL on 2025-05-16 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process cafcfd60-a0ae-47d4-ab3b-2610171e0773 for AAPL on 2025-05-19 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 17aad832-96d5-459d-9eb9-193ccbe78165 for AAPL on 2025-05-20 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process a78b97e9-c727-41a5-b61a-285f75778bf9 for AAPL on 2025-05-21 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process e96e762e-c2d0-4433-9b9f-6a5ca5c0f482 for AAPL on 2025-05-22 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process c251bce8-9f1c-4732-be19-1e3f05b11cca for AAPL on 2025-05-23 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 2ca16a81-7e71-4b80-9ce5-78b8d8ab3103 for AAPL on 2025-05-26 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process d271f30f-1c8f-47a1-ac95-f89bfad51f89 for AAPL on 2025-05-27 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process b38ce29b-1e53-40c3-8494-aa5f9c8514df for AAPL on 2025-05-28 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process d51e9687-24af-4369-a667-e4bd86771a3f for AAPL on 2025-05-29 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process d0ca2702-b9d8-4b14-af60-d59ebbbb408d for AAPL on 2025-05-30 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 85bf2bc6-ac99-49ac-a705-6d2fbff54e06 for AAPL on 2025-06-02 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 52dc2002-087d-4e16-aca1-5169d171ecb9 for AAPL on 2025-06-03 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process cace1c04-df3d-4be1-8050-ca2010d07d1a for AAPL on 2025-06-04 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 5ddec55e-0f5e-4b5f-afc0-ed1cfbf2fd70 for AAPL on 2025-06-05 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 17356353-8595-4430-918f-2172d9b26b1e for AAPL on 2025-06-06 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process f5143651-1675-4f9c-943e-d972044818f5 for AAPL on 2025-06-09 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 7bbda4ea-8d52-452c-a65e-f340486a3686 for AAPL on 2025-06-10 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process bb2ae5fa-8ef1-4691-a8f6-317bf4200418 for AAPL on 2025-06-11 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 2ee8ae53-7793-4d95-a4ab-bd0db434b42c for AAPL on 2025-06-12 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 7d9eeecf-4f17-4846-87a1-ff2bf42066c7 for AAPL on 2025-06-13 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 2b0db6a4-a8f9-4665-a1f5-3b905e45e0f8 for AAPL on 2025-06-16 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 840d8dbc-3f82-4251-a5d5-cecc2a457404 for AAPL on 2025-06-17 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 20ec6341-976b-4bfc-a057-5a4e98fbf0c5 for AAPL on 2025-06-18 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process f381b99a-bb1b-41bd-bea3-6a48afeb37de for AAPL on 2025-06-19 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process bf1b961f-ec0e-46c4-84a9-738a39e62ba4 for AAPL on 2025-06-20 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 5c093c64-9ed4-4e80-961c-5f6c3e08021e for AAPL on 2025-06-23 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 2b577495-86f7-4185-ad9d-540e26e600b5 for AAPL on 2025-06-24 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 9ab0a6fc-f811-4e13-a5e5-58178f5dbc84 for AAPL on 2025-06-25 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process c0c9491d-5c81-480c-aae7-a2d679f1e215 for AAPL on 2025-06-26 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 3f1ff73e-1fca-43c8-968a-d8b9b736c391 for AAPL on 2025-06-27 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process cb119e4e-f515-4cd1-bb8f-b9a6dcabcd08 for AAPL on 2025-06-30 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 96627ef8-6fc9-44a6-8597-75bccf1f37fa for AAPL on 2025-07-01 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process f02e50cd-3b6a-4cc6-ac69-5ff96c705373 for AAPL on 2025-07-02 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process a6594aff-0cb0-49ec-8a30-efa00c772b67 for AAPL on 2025-07-03 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process ee34cd88-6d26-48d2-b3ad-528a6220e31e for AAPL on 2025-07-04 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process efc3d392-0665-482d-8431-2bd7cbbef2b2 for AAPL on 2025-07-07 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process f45dfdbb-c354-46a2-ade8-54e08df30383 for AAPL on 2025-07-08 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 79ba8ae1-48de-4db5-b451-d132982f88a3 for AAPL on 2025-07-09 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 83a01155-a828-42f1-9547-d41cd2b348a4 for AAPL on 2025-07-10 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 8fa719a3-f5f2-4e69-a29c-e8639cd1ea09 for AAPL on 2025-07-11 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 99ac7cfc-21e0-4dde-b5a8-d75348639d07 for AAPL on 2025-07-14 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 6ec0c2e8-3755-4104-b9f3-4541a9e34e75 for AAPL on 2025-07-15 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process a6301acb-07a1-41ec-8893-5310f47c52c7 for AAPL on 2025-07-16 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process bf49aee2-2bf2-4120-bca5-ad20cde3c590 for AAPL on 2025-07-17 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 881d6422-f61e-40f6-bf6d-7da5195a20c9 for AAPL on 2025-07-18 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.core.engine:Calculating backtest results
ERROR:backtest2.core.engine:Backtest failed: 'CircularBuffer' object is not iterable
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/core/engine.py", line 122, in run
    result = await self._calculate_results()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/core/engine.py", line 314, in _calculate_results
    metrics_dict = advanced_metrics_calc.calculate_all_metrics(
        self.position_manager.portfolio_history.get_all(),  # Get all from circular buffer
        self.position_manager.transaction_history.get_all(),  # Get all from circular buffer
        self.config.initial_capital
    )
  File "/Users/y-sato/TradingAgents2/backtest2/analysis/metrics.py", line 45, in calculate_all_metrics
    trade_metrics = self._calculate_trade_metrics(transactions)
  File "/Users/y-sato/TradingAgents2/backtest2/analysis/metrics.py", line 290, in _calculate_trade_metrics
    trades = self._identify_trades(transactions)
  File "/Users/y-sato/TradingAgents2/backtest2/analysis/metrics.py", line 351, in _identify_trades
    for txn in transactions:
               ^^^^^^^^^^^^
TypeError: 'CircularBuffer' object is not iterable
INFO:backtest2.core.engine:Cleaning up backtest resources
INFO:backtest2.data.manager_simple:Closing data manager
INFO:MemoryStore:Saved memories to results/backtest2_20250721_221025/AAPL/memories.json
ERROR:webui.backend.backtest2_wrapper:Backtest2 failed: 'CircularBuffer' object is not iterable
ERROR:webui.backend.backtest2_wrapper:Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/TradingMultiAgents/webui/backend/backtest2_wrapper.py", line 234, in run_backtest_async
    result = await engine.run()
             ^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/core/engine.py", line 122, in run
    result = await self._calculate_results()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/core/engine.py", line 314, in _calculate_results
    metrics_dict = advanced_metrics_calc.calculate_all_metrics(
        self.position_manager.portfolio_history.get_all(),  # Get all from circular buffer
        self.position_manager.transaction_history.get_all(),  # Get all from circular buffer
        self.config.initial_capital
    )
  File "/Users/y-sato/TradingAgents2/backtest2/analysis/metrics.py", line 45, in calculate_all_metrics
    trade_metrics = self._calculate_trade_metrics(transactions)
  File "/Users/y-sato/TradingAgents2/backtest2/analysis/metrics.py", line 290, in _calculate_trade_metrics
    trades = self._identify_trades(transactions)
  File "/Users/y-sato/TradingAgents2/backtest2/analysis/metrics.py", line 351, in _identify_trades
    for txn in transactions:
               ^^^^^^^^^^^^
TypeError: 'CircularBuffer' object is not iterable

ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-658' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-659' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-660' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-661' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-662' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-663' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-664' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-665' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-666' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-667' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
 TradingAgents WebUI...
 WebUI: /Users/y-sato/TradingAgents2/TradingMultiAgents/webui/app.py
 FINNHUB_API_KEY:  
 OPENAI_API_KEY:  
  http://localhost:8501 
  Ctrl+C 
