
  You can now view your Streamlit app in your browser.

  Local URL: http://localhost:8501
  Network URL: http://192.168.50.9:8501

WARNING:root:TradingMultiAgents dataflows not available
INFO:webui.backend.backtest2_wrapper:Successfully imported backtest2 modules (direct import)
INFO:webui.backend.backtest2_wrapper:BacktestConfig type: <class 'type'>
INFO:webui.backend.backtest2_wrapper:BacktestConfig module: backtest2.core.config
INFO:webui.backend.backtest2_wrapper:BacktestConfig existing fields: ['name', 'symbols', 'time_range', 'initial_capital', 'random_seed', 'max_positions', 'position_limits', 'llm_config', 'data_sources', 'reflection_config', 'result_dir', 'slippage', 'commission', 'risk_free_rate', 'benchmark', 'start_date', 'end_date', 'agent_config', 'data_config', 'risk_config', 'enable_parallel', 'max_workers', 'cache_size', 'log_level', 'save_results', 'results_path', 'enable_monitoring']
INFO:webui.backend.backtest2_wrapper:Creating BacktestConfig - class type: <class 'type'>
INFO:webui.backend.backtest2_wrapper:BacktestConfig module: backtest2.core.config
INFO:webui.backend.backtest2_wrapper:BacktestConfig MRO: (<class 'backtest2.core.config.BacktestConfig'>, <class 'object'>)
INFO:webui.backend.backtest2_wrapper:Is dataclass: True
INFO:webui.backend.backtest2_wrapper:Dataclass fields: ['name', 'symbols', 'time_range', 'initial_capital', 'random_seed', 'max_positions', 'position_limits', 'llm_config', 'data_sources', 'reflection_config', 'result_dir', 'slippage', 'commission', 'risk_free_rate', 'benchmark', 'start_date', 'end_date', 'agent_config', 'data_config', 'risk_config', 'enable_parallel', 'max_workers', 'cache_size', 'log_level', 'save_results', 'results_path', 'enable_monitoring']
INFO:webui.backend.backtest2_wrapper:Has random_seed attr: True
INFO:webui.backend.backtest2_wrapper:BacktestConfig.__init__ signature: {'name': <class 'str'>, 'symbols': typing.List[str], 'time_range': typing.Optional[backtest2.core.config.TimeRange], 'initial_capital': <class 'float'>, 'random_seed': <class 'int'>, 'max_positions': <class 'int'>, 'position_limits': typing.Dict[backtest2.core.config.RiskProfile, float], 'llm_config': <class 'backtest2.core.config.LLMConfig'>, 'data_sources': typing.List[str], 'reflection_config': typing.Optional[typing.Dict[str, typing.Any]], 'result_dir': typing.Optional[pathlib._local.Path], 'slippage': <class 'float'>, 'commission': <class 'float'>, 'risk_free_rate': <class 'float'>, 'benchmark': <class 'str'>, 'start_date': typing.Optional[datetime.datetime], 'end_date': typing.Optional[datetime.datetime], 'agent_config': typing.Optional[backtest2.core.config.AgentConfig], 'data_config': typing.Optional[backtest2.core.config.DataConfig], 'risk_config': typing.Optional[backtest2.core.config.RiskConfig], 'enable_parallel': <class 'bool'>, 'max_workers': <class 'int'>, 'cache_size': <class 'int'>, 'log_level': <class 'str'>, 'save_results': <class 'bool'>, 'results_path': <class 'str'>, 'enable_monitoring': <class 'bool'>, 'return': None}
INFO:backtest2.core.engine:Starting backtest execution ac697e4f-1248-4e0c-bc5f-dee5ad6f6366
INFO:backtest2.core.engine:Initializing backtest environment
INFO:backtest2.data.manager_simple:Initializing data manager
INFO:backtest2.agents.orchestrator:Initialized 12 agents
INFO:backtest2.core.engine:Loading benchmark data for SPY
INFO:backtest2.agents.orchestrator:Starting decision process 48d0fa71-6565-41de-9f9b-6a63b7834aad for AAPL on 2025-04-22 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process f3b29f36-4b44-41ac-a22c-9e20acece3cf for AAPL on 2025-04-23 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 6b34b1e5-8257-4a6f-a9ff-5ef5aefda9c6 for AAPL on 2025-04-24 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 457dc52a-b53f-43f6-9483-ca4a66d98ee9 for AAPL on 2025-04-25 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process db380e8a-6f3f-4013-b52d-7f1b82dbc784 for AAPL on 2025-04-28 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 46fba241-16e8-4f2b-81c4-73f5bf9c02ea for AAPL on 2025-04-29 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 871b23e1-e935-4551-81f8-cddafede6f9b for AAPL on 2025-04-30 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process b90c71e4-9b55-43d3-b0e3-c0f49aad9b43 for AAPL on 2025-05-01 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process e5d0c63a-18ac-483d-b00d-872ad9d5bd46 for AAPL on 2025-05-02 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 69eff7e8-41cb-4530-851f-0e3ac8353813 for AAPL on 2025-05-05 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process d55e2723-6010-4c1d-8493-1a7c3bb4bd94 for AAPL on 2025-05-06 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 5ae0bc78-3cdf-44de-b958-d28f93d80181 for AAPL on 2025-05-07 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 53418862-15bf-4195-884a-6f342eaeadaf for AAPL on 2025-05-08 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process ba666f6f-e84f-46b1-b282-497907b0a6e6 for AAPL on 2025-05-09 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 30a4c371-ddef-4c21-abc8-17cf549e6ad6 for AAPL on 2025-05-12 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process f8236c12-1606-45ec-9005-9c396b117ca2 for AAPL on 2025-05-13 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process d5dc9c9a-f52e-4e8a-b416-3472dad8dd30 for AAPL on 2025-05-14 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process f0a2ce06-efd6-4b0b-938c-bfc2f730a0df for AAPL on 2025-05-15 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process fb56f73f-b5ad-4ddd-8d3a-8d5352738ec6 for AAPL on 2025-05-16 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 57dd37a9-5cfe-4b07-a1e6-8007962c6b8b for AAPL on 2025-05-19 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 0def4310-af37-41dd-a68a-9b1b137696ec for AAPL on 2025-05-20 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process d04499bb-6c92-4226-987e-b75f7a5d6ae6 for AAPL on 2025-05-21 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 30714e1e-982b-4d03-bda9-948644c0c9b8 for AAPL on 2025-05-22 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 59809b8f-5fe7-43cd-af18-86dfd6c2c5bf for AAPL on 2025-05-23 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process fcb5fb7d-b2a7-48a9-923d-edd223654128 for AAPL on 2025-05-26 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 9d637fe9-bd5d-41c8-9f8a-6904aa0fc624 for AAPL on 2025-05-27 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process e0ccbbc6-a397-4103-8d32-9ddf594938a9 for AAPL on 2025-05-28 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 04b8ad4b-ab71-430d-8a4a-7576feb2736f for AAPL on 2025-05-29 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process d4d50d06-bf2e-442d-8067-a1664f745b4f for AAPL on 2025-05-30 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 596b9577-df38-4476-85cb-48014da8747b for AAPL on 2025-06-02 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process c61566b4-7399-4891-b92a-383a7056d49d for AAPL on 2025-06-03 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 37533ec8-afe0-4166-a45d-b6d59f781b13 for AAPL on 2025-06-04 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 406a7991-d1e8-47b0-8d08-b05eadbe8d5a for AAPL on 2025-06-05 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 38fdb6e9-7e3c-45b2-a2ce-653af77a8f78 for AAPL on 2025-06-06 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process a255a5d0-60d9-4f2e-9a29-3b47e6def6e7 for AAPL on 2025-06-09 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process cdb528db-88a8-4850-838c-caa5d22f1b11 for AAPL on 2025-06-10 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 17f5a431-e8ce-493c-b30b-6963d74b7ec7 for AAPL on 2025-06-11 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process c2681d78-ec87-4e06-b515-82e56c35f8f5 for AAPL on 2025-06-12 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process e0f6e680-d09f-4061-bb18-11e1ad21f7e5 for AAPL on 2025-06-13 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 4159623e-7b3c-4807-81a9-8a7f575aba78 for AAPL on 2025-06-16 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 88dabe8a-9d94-453a-9c40-d95b3478016e for AAPL on 2025-06-17 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 80f8b2dc-146e-4166-a3c1-59acfb586e15 for AAPL on 2025-06-18 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process b2ac03cd-c72a-4a2c-a6c2-720e1622d4e1 for AAPL on 2025-06-19 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process db825c9a-0b41-4ee1-9e63-833c95d5f722 for AAPL on 2025-06-20 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process ca0c4f20-b27f-40e5-9843-4605165b0d9c for AAPL on 2025-06-23 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process e7f2715f-da98-44f7-9ad4-6e550584c05c for AAPL on 2025-06-24 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 4285f487-6fc3-4b6c-a38a-5d7c2945815d for AAPL on 2025-06-25 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process c7a0061f-b3c6-4fa9-bd99-0d147cb6b4dd for AAPL on 2025-06-26 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process a084c9e3-e63a-4776-961d-82f493091324 for AAPL on 2025-06-27 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process d1d44800-6e92-4163-9eae-ab6b0d787426 for AAPL on 2025-06-30 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 91c08a56-f45e-48ae-af35-fdb53c46864e for AAPL on 2025-07-01 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process ce5945c6-2cbc-49b0-b5e0-469992b54b6c for AAPL on 2025-07-02 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process c646e99c-84dc-46e4-81ba-f422c34ec21f for AAPL on 2025-07-03 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process b28bea59-f598-4374-ae1a-30e36cf949b0 for AAPL on 2025-07-04 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 123803fe-1c0a-4c31-b5e1-d5fa48a0502c for AAPL on 2025-07-07 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 4e1746c3-e122-43c6-aaaf-4180b3bb96ba for AAPL on 2025-07-08 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process a390b9ed-de24-4d17-abbb-40575e8c626d for AAPL on 2025-07-09 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 2c201a39-9f27-4518-b1e9-88b699bc3066 for AAPL on 2025-07-10 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 29d6756c-667d-46e4-a72c-aa81615abfe2 for AAPL on 2025-07-11 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 5d3e653d-58ab-4a4d-bbc1-f71745d41510 for AAPL on 2025-07-14 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 83c4f7e6-6ed3-4021-bd29-5141b0754e6b for AAPL on 2025-07-15 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process ba880b00-09a4-4467-86ae-c33bde920e80 for AAPL on 2025-07-16 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process b22be574-f8da-4c9b-a3f0-38c008b0a120 for AAPL on 2025-07-17 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process b2f8151a-a220-4cb5-81d2-03c4904a55e3 for AAPL on 2025-07-18 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.core.engine:Calculating backtest results
INFO:backtest2.analysis.benchmark:Loading benchmark data for SPY
INFO:backtest2.analysis.benchmark:Loaded 64 benchmark data points
ERROR:backtest2.core.engine:Backtest failed: 'BacktestResult' object has no attribute 'portfolio_history'
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/core/engine.py", line 122, in run
    result = await self._calculate_results()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/core/engine.py", line 363, in _calculate_results
    comparison = benchmark_comparator.compare_with_backtest(result)
  File "/Users/y-sato/TradingAgents2/backtest2/analysis/benchmark.py", line 118, in compare_with_backtest
    relative_metrics['beta'] = self._calculate_beta(result.portfolio_history)
                                                    ^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BacktestResult' object has no attribute 'portfolio_history'
INFO:backtest2.core.engine:Cleaning up backtest resources
INFO:backtest2.data.manager_simple:Closing data manager
INFO:MemoryStore:Saved memories to results/backtest2_20250721_233442/AAPL/memories.json
ERROR:webui.backend.backtest2_wrapper:Backtest2 failed: 'BacktestResult' object has no attribute 'portfolio_history'
ERROR:webui.backend.backtest2_wrapper:Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/TradingMultiAgents/webui/backend/backtest2_wrapper.py", line 234, in run_backtest_async
    result = await engine.run()
             ^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/core/engine.py", line 122, in run
    result = await self._calculate_results()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/core/engine.py", line 363, in _calculate_results
    comparison = benchmark_comparator.compare_with_backtest(result)
  File "/Users/y-sato/TradingAgents2/backtest2/analysis/benchmark.py", line 118, in compare_with_backtest
    relative_metrics['beta'] = self._calculate_beta(result.portfolio_history)
                                                    ^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BacktestResult' object has no attribute 'portfolio_history'

ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-673' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-674' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-675' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-676' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-677' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-678' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-679' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-680' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-681' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-682' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
INFO:webui.backend.backtest2_wrapper:Creating BacktestConfig - class type: <class 'type'>
INFO:webui.backend.backtest2_wrapper:BacktestConfig module: backtest2.core.config
INFO:webui.backend.backtest2_wrapper:BacktestConfig MRO: (<class 'backtest2.core.config.BacktestConfig'>, <class 'object'>)
INFO:webui.backend.backtest2_wrapper:Is dataclass: True
INFO:webui.backend.backtest2_wrapper:Dataclass fields: ['name', 'symbols', 'time_range', 'initial_capital', 'random_seed', 'max_positions', 'position_limits', 'llm_config', 'data_sources', 'reflection_config', 'result_dir', 'slippage', 'commission', 'risk_free_rate', 'benchmark', 'start_date', 'end_date', 'agent_config', 'data_config', 'risk_config', 'enable_parallel', 'max_workers', 'cache_size', 'log_level', 'save_results', 'results_path', 'enable_monitoring']
INFO:webui.backend.backtest2_wrapper:Has random_seed attr: True
INFO:webui.backend.backtest2_wrapper:BacktestConfig.__init__ signature: {'name': <class 'str'>, 'symbols': typing.List[str], 'time_range': typing.Optional[backtest2.core.config.TimeRange], 'initial_capital': <class 'float'>, 'random_seed': <class 'int'>, 'max_positions': <class 'int'>, 'position_limits': typing.Dict[backtest2.core.config.RiskProfile, float], 'llm_config': <class 'backtest2.core.config.LLMConfig'>, 'data_sources': typing.List[str], 'reflection_config': typing.Optional[typing.Dict[str, typing.Any]], 'result_dir': typing.Optional[pathlib._local.Path], 'slippage': <class 'float'>, 'commission': <class 'float'>, 'risk_free_rate': <class 'float'>, 'benchmark': <class 'str'>, 'start_date': typing.Optional[datetime.datetime], 'end_date': typing.Optional[datetime.datetime], 'agent_config': typing.Optional[backtest2.core.config.AgentConfig], 'data_config': typing.Optional[backtest2.core.config.DataConfig], 'risk_config': typing.Optional[backtest2.core.config.RiskConfig], 'enable_parallel': <class 'bool'>, 'max_workers': <class 'int'>, 'cache_size': <class 'int'>, 'log_level': <class 'str'>, 'save_results': <class 'bool'>, 'results_path': <class 'str'>, 'enable_monitoring': <class 'bool'>, 'return': None}
INFO:backtest2.core.engine:Starting backtest execution 4589c5a5-3545-40a7-a129-33395622b587
INFO:backtest2.core.engine:Initializing backtest environment
INFO:backtest2.data.manager_simple:Initializing data manager
INFO:backtest2.agents.orchestrator:Initialized 12 agents
INFO:backtest2.core.engine:Loading benchmark data for SPY
INFO:backtest2.agents.orchestrator:Starting decision process bcfabcee-e30e-4ebf-935b-ae0519d5b7dd for AAPL on 2025-04-23 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process f6312516-5688-46a6-afe3-a934a4572c96 for AAPL on 2025-04-24 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process c6d40fc1-432e-4c55-8d7e-0e4547d38040 for AAPL on 2025-04-25 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process b981e722-773a-4182-a6ce-2232a04263ba for AAPL on 2025-04-28 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 33bf4476-547c-4b0c-b28a-253fe1138b43 for AAPL on 2025-04-29 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 5b4bb379-f4f6-4782-9195-8b06e6443637 for AAPL on 2025-04-30 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process a98d0400-239d-49f9-b72b-a336423cb103 for AAPL on 2025-05-01 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 5732f072-3bc8-4024-91a5-f375af55764e for AAPL on 2025-05-02 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process e7033169-3202-473a-b315-36ccbdf92bab for AAPL on 2025-05-05 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 506a10cb-d903-427f-bd4b-d8dc659e325e for AAPL on 2025-05-06 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 9f487f8f-45d3-42c2-8bc2-3fe1aec831b8 for AAPL on 2025-05-07 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process ade53bf4-9578-4f3d-ab5b-b71572f950b2 for AAPL on 2025-05-08 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 9caf1df8-a66d-459a-93c2-12b50537cf30 for AAPL on 2025-05-09 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process e902df3b-c65b-4432-9d0e-1c1d8614c2e3 for AAPL on 2025-05-12 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process c9e57af1-e088-432a-954c-7b0ea429e909 for AAPL on 2025-05-13 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 8b9aad87-d82a-474d-977a-555c01836192 for AAPL on 2025-05-14 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 7705b0d1-f6d4-4396-8e89-33041a4e395a for AAPL on 2025-05-15 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process aeca098a-62dd-4569-acf0-255b2dd4fa0a for AAPL on 2025-05-16 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 8b318499-0321-4357-8c84-9d5d3e1bea7c for AAPL on 2025-05-19 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 67e95147-e20e-437a-8eec-4ce153526cc3 for AAPL on 2025-05-20 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 640d1b23-a04c-440b-8355-4882585f6cf4 for AAPL on 2025-05-21 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process ef45bf19-15a4-49a6-987b-e34beb1b7a44 for AAPL on 2025-05-22 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 2b41f92c-c706-411f-be4d-deeef1b62f3d for AAPL on 2025-05-23 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 15bbead1-35be-42e6-b65f-49b10ed187de for AAPL on 2025-05-26 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 1195bae4-b79b-4b73-b95d-bbb4eea435e0 for AAPL on 2025-05-27 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 7ea7fe33-a465-4e41-945d-3bd624eb57f5 for AAPL on 2025-05-28 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 2ebc3408-6ae7-44be-b3e6-bdc76601ae5c for AAPL on 2025-05-29 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 808f3d50-dd2a-464a-b677-8ee64aec64d2 for AAPL on 2025-05-30 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process b08939df-0dce-4efa-acdb-ddb2aa2d694c for AAPL on 2025-06-02 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 354637ad-b2ea-4553-a979-da218e97e4de for AAPL on 2025-06-03 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process a5aafe01-88e9-4d7e-913f-d23f5e47dd5c for AAPL on 2025-06-04 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 85cd74df-72a5-45b9-b764-08ffa02f6786 for AAPL on 2025-06-05 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 1e6925a6-64cc-4f44-9a8f-ece59c4a8076 for AAPL on 2025-06-06 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process c6c61f58-49f1-458b-a020-c97077a74377 for AAPL on 2025-06-09 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 4d477909-81fa-41c2-a915-62c0e61f2cb0 for AAPL on 2025-06-10 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process e14a7b29-660f-42d3-be04-b34e48907984 for AAPL on 2025-06-11 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 7bb9f8f5-c74e-4833-8a24-4d61304046d7 for AAPL on 2025-06-12 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 1e249f45-9c84-4947-9692-f7de9666ca05 for AAPL on 2025-06-13 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process d77957b2-20ca-4e3c-9b64-c04fbbabd49c for AAPL on 2025-06-16 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 6a6231a1-916f-48a8-b417-46bf24aa6055 for AAPL on 2025-06-17 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process f9cd6206-3b55-4824-938e-5c0300e1521a for AAPL on 2025-06-18 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 0c946bb8-c4d9-41c7-8120-152bca0eb08b for AAPL on 2025-06-19 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process f321ca4b-887b-4f40-8ef1-b28b99d1251a for AAPL on 2025-06-20 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 11f543f1-1e8d-42b9-8400-7ee107bcddf2 for AAPL on 2025-06-23 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 2053e51d-2e3d-4165-be08-e1c0e3cb7656 for AAPL on 2025-06-24 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 8ae8c6b8-3002-42a6-ae4b-5f235bc41fe5 for AAPL on 2025-06-25 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 5760abf8-af29-42e3-b8ce-f2765f325000 for AAPL on 2025-06-26 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process e76f073a-be9f-4113-9ffa-05979de06dac for AAPL on 2025-06-27 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 54f0a879-88df-4328-9108-3de1d13dd113 for AAPL on 2025-06-30 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process d76f9523-7f50-4b3f-97ec-d935ab4f1e24 for AAPL on 2025-07-01 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 55f84eb4-00be-4cb9-b6fb-129b15ea8fdc for AAPL on 2025-07-02 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 1524d14d-258b-4320-8127-7acbcd6fbf9d for AAPL on 2025-07-03 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 2ab09540-1336-4a54-99cb-0501fe2a77a4 for AAPL on 2025-07-04 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 7882dd08-6e21-43ff-9998-3b56e4cea2cf for AAPL on 2025-07-07 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process f22b9c2d-d582-45b9-b3ed-92eff800801e for AAPL on 2025-07-08 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 1cf525d2-b956-409e-94d0-264ba0565fb5 for AAPL on 2025-07-09 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process b56d3f85-015b-40c0-99d8-bfec0035752a for AAPL on 2025-07-10 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process e4494d36-adee-490f-a681-4ed232c06ce3 for AAPL on 2025-07-11 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 931bd247-bd00-441c-a4a2-e5f5ecebc1cb for AAPL on 2025-07-14 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 838df714-f30e-4bc4-be05-594966fad8cb for AAPL on 2025-07-15 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process d5a04411-6ecf-4daf-bbb9-9e052c502bdc for AAPL on 2025-07-16 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 1a89db29-00b8-4c7a-aa56-62c327aaf5e7 for AAPL on 2025-07-17 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 350b9b34-ccbf-4b83-b8f1-de3b1073756f for AAPL on 2025-07-18 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 030bb71c-575a-4946-8c99-86bd12820921 for AAPL on 2025-07-21 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.core.engine:Calculating backtest results
INFO:backtest2.analysis.benchmark:Loading benchmark data for SPY
INFO:backtest2.analysis.benchmark:Loaded 64 benchmark data points
ERROR:backtest2.core.engine:Backtest failed: 'BacktestResult' object has no attribute 'portfolio_history'
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/core/engine.py", line 122, in run
    result = await self._calculate_results()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/core/engine.py", line 363, in _calculate_results
    benchmark_comparator = BenchmarkComparator(self.config.benchmark)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/analysis/benchmark.py", line 118, in compare_with_backtest
    if portfolio_history:
    
AttributeError: 'BacktestResult' object has no attribute 'portfolio_history'
INFO:backtest2.core.engine:Cleaning up backtest resources
INFO:backtest2.data.manager_simple:Closing data manager
INFO:MemoryStore:Saved memories to results/backtest2_20250722_075902/AAPL/memories.json
ERROR:webui.backend.backtest2_wrapper:Backtest2 failed: 'BacktestResult' object has no attribute 'portfolio_history'
ERROR:webui.backend.backtest2_wrapper:Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/TradingMultiAgents/webui/backend/backtest2_wrapper.py", line 234, in run_backtest_async
    result = await engine.run()
             ^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/core/engine.py", line 122, in run
    result = await self._calculate_results()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/core/engine.py", line 363, in _calculate_results
    benchmark_comparator = BenchmarkComparator(self.config.benchmark)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/analysis/benchmark.py", line 118, in compare_with_backtest
    if portfolio_history:
    
AttributeError: 'BacktestResult' object has no attribute 'portfolio_history'

ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-1251' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-1253' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-1254' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-1257' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-1259' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-1262' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-1265' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-1266' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-1268' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-1272' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
INFO:webui.backend.backtest2_wrapper:Creating BacktestConfig - class type: <class 'type'>
INFO:webui.backend.backtest2_wrapper:BacktestConfig module: backtest2.core.config
INFO:webui.backend.backtest2_wrapper:BacktestConfig MRO: (<class 'backtest2.core.config.BacktestConfig'>, <class 'object'>)
INFO:webui.backend.backtest2_wrapper:Is dataclass: True
INFO:webui.backend.backtest2_wrapper:Dataclass fields: ['name', 'symbols', 'time_range', 'initial_capital', 'random_seed', 'max_positions', 'position_limits', 'llm_config', 'data_sources', 'reflection_config', 'result_dir', 'slippage', 'commission', 'risk_free_rate', 'benchmark', 'start_date', 'end_date', 'agent_config', 'data_config', 'risk_config', 'enable_parallel', 'max_workers', 'cache_size', 'log_level', 'save_results', 'results_path', 'enable_monitoring']
INFO:webui.backend.backtest2_wrapper:Has random_seed attr: True
INFO:webui.backend.backtest2_wrapper:BacktestConfig.__init__ signature: {'name': <class 'str'>, 'symbols': typing.List[str], 'time_range': typing.Optional[backtest2.core.config.TimeRange], 'initial_capital': <class 'float'>, 'random_seed': <class 'int'>, 'max_positions': <class 'int'>, 'position_limits': typing.Dict[backtest2.core.config.RiskProfile, float], 'llm_config': <class 'backtest2.core.config.LLMConfig'>, 'data_sources': typing.List[str], 'reflection_config': typing.Optional[typing.Dict[str, typing.Any]], 'result_dir': typing.Optional[pathlib._local.Path], 'slippage': <class 'float'>, 'commission': <class 'float'>, 'risk_free_rate': <class 'float'>, 'benchmark': <class 'str'>, 'start_date': typing.Optional[datetime.datetime], 'end_date': typing.Optional[datetime.datetime], 'agent_config': typing.Optional[backtest2.core.config.AgentConfig], 'data_config': typing.Optional[backtest2.core.config.DataConfig], 'risk_config': typing.Optional[backtest2.core.config.RiskConfig], 'enable_parallel': <class 'bool'>, 'max_workers': <class 'int'>, 'cache_size': <class 'int'>, 'log_level': <class 'str'>, 'save_results': <class 'bool'>, 'results_path': <class 'str'>, 'enable_monitoring': <class 'bool'>, 'return': None}
INFO:backtest2.core.engine:Starting backtest execution bd5a8663-1e28-42a0-b0de-4ae11fc463d1
INFO:backtest2.core.engine:Initializing backtest environment
INFO:backtest2.data.manager_simple:Initializing data manager
INFO:backtest2.agents.orchestrator:Initialized 12 agents
INFO:backtest2.core.engine:Loading benchmark data for SPY
INFO:backtest2.agents.orchestrator:Starting decision process 1fe1f509-0edc-46fa-926a-8611825bdb78 for AAPL on 2025-04-23 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 961e68fc-f456-4012-b6d1-61db23d7cca9 for AAPL on 2025-04-24 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process ad8dee63-b299-40c0-8846-4c1f277ae1b4 for AAPL on 2025-04-25 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 158f5637-e18b-45dd-9120-355e4de253bc for AAPL on 2025-04-28 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 594188d7-df1e-497e-b63d-7097d849c325 for AAPL on 2025-04-29 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 88f36c17-b49f-492a-a452-5c06a7b6af7d for AAPL on 2025-04-30 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 40d57412-79ab-4588-9c70-2748a79f4cf8 for AAPL on 2025-05-01 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process c585c591-974c-4814-9027-898e13fae526 for AAPL on 2025-05-02 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 9628de5d-bf33-4172-b33f-5b5ec072237c for AAPL on 2025-05-05 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 74792c95-0808-4ef0-be64-f99f5085b748 for AAPL on 2025-05-06 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 97825380-6bcd-4832-b3d4-f956eedf4526 for AAPL on 2025-05-07 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 88d335a5-0311-4a81-90fe-27bebb7cf631 for AAPL on 2025-05-08 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process b137f4a8-1092-45bb-8800-63b6d06d14ae for AAPL on 2025-05-09 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 61d4f72d-678c-4096-9c23-bdb79d3ee4fc for AAPL on 2025-05-12 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 9c281584-b523-4485-81e7-4cdf1e5f9f46 for AAPL on 2025-05-13 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 96b2985d-d79e-43b4-977b-c1fa7cea0400 for AAPL on 2025-05-14 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process dd01083b-8f86-4759-8006-4e962288675a for AAPL on 2025-05-15 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process edc6a22b-ff32-428a-8bf8-3f7254d4ee27 for AAPL on 2025-05-16 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process a560920d-9518-4504-bb2d-8c6902eaaa34 for AAPL on 2025-05-19 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process ca1310c3-de15-434a-a1fd-b37facd5a791 for AAPL on 2025-05-20 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 2fed08e5-6993-4770-b130-f0bfae0d46c1 for AAPL on 2025-05-21 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 22ea9da6-0a79-46ab-b34c-28081f1b4774 for AAPL on 2025-05-22 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 126fa29e-f9e6-4f3d-a919-32baed63f11d for AAPL on 2025-05-23 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 9d0f0c57-a4f5-4249-8d8a-fa5b0c817d9f for AAPL on 2025-05-26 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 993b5594-d361-4031-abe3-66ae7d1ec96b for AAPL on 2025-05-27 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 13c15cd5-5ef2-4237-8898-78425d98af7d for AAPL on 2025-05-28 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 45fc3fb7-4c31-483d-baac-a2ed21e08b09 for AAPL on 2025-05-29 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 7032bd1f-16ba-4cb9-b7b4-d934ccb769bc for AAPL on 2025-05-30 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process a6e4b649-a872-4604-a90f-0766251be6e3 for AAPL on 2025-06-02 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process b8e54ea5-bbce-40b0-8273-d58e15fade66 for AAPL on 2025-06-03 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 6499995f-a11d-4af4-a733-2e5e6baf1af4 for AAPL on 2025-06-04 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 60572e89-db29-4fd2-b4f8-af2bc3f51e6d for AAPL on 2025-06-05 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process b56be50b-445c-4025-b21c-6056252bef20 for AAPL on 2025-06-06 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 0e66e3dd-bba2-4994-b607-8627f9b0347e for AAPL on 2025-06-09 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process ca20e5c7-9f4c-47d5-9136-74b62a9934c2 for AAPL on 2025-06-10 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 8a0d393f-cbf1-49b3-857a-9a80d6ee2d46 for AAPL on 2025-06-11 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 90896319-0374-4042-8c71-41a31ad9a7b9 for AAPL on 2025-06-12 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 5690524c-b14b-4447-adb0-536dffd8df93 for AAPL on 2025-06-13 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 848b2f7d-d4f7-45bd-bc88-ebe5d57a369d for AAPL on 2025-06-16 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 9d85662b-a3f8-4f39-bd44-78d6bdede1f1 for AAPL on 2025-06-17 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 3f372e0f-086a-4103-b08f-138925d21759 for AAPL on 2025-06-18 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 5c87606f-14a3-46d8-8bcc-8c5c15748710 for AAPL on 2025-06-19 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process f03f9eb1-16d5-47d9-8a1a-b0da0d437e14 for AAPL on 2025-06-20 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process cccdc879-f6d2-4a5c-b4ee-7e78a45bd55d for AAPL on 2025-06-23 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process dfbab941-2718-46d0-9ad3-8f9dc59fe794 for AAPL on 2025-06-24 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 798d0985-e3d6-4d40-87b4-68bc13df0f50 for AAPL on 2025-06-25 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 5d8eaee0-4fc2-4ae1-998a-94450830e23c for AAPL on 2025-06-26 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process f598b741-c6a1-4b9e-8680-9a2cea2ed67f for AAPL on 2025-06-27 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 87a6aa04-a59d-4a7b-b667-3a5e603c6934 for AAPL on 2025-06-30 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 33b024e1-ab6e-483d-9e52-0bd66ca4490a for AAPL on 2025-07-01 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 34a453c9-6ac2-4133-a14c-60165a4f5a1b for AAPL on 2025-07-02 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process be9e78d7-915d-4961-a935-edeb63f1f30a for AAPL on 2025-07-03 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 673e0866-c119-4b89-81c5-b592cf4fbd8b for AAPL on 2025-07-04 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process e92dfd3c-bf45-454a-a891-977b7e9d502d for AAPL on 2025-07-07 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 0847cd66-14cd-447f-b1ad-57f9b0222547 for AAPL on 2025-07-08 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 0a0efee7-9479-40f2-a7ae-4fcf120c215c for AAPL on 2025-07-09 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 0d3e9035-c1fd-4aaa-910d-0033a7198346 for AAPL on 2025-07-10 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 315605ef-f17d-48f5-9f4d-b4d05b47b226 for AAPL on 2025-07-11 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process ea1053a7-eb4e-4c74-ad5b-08dfc4606f88 for AAPL on 2025-07-14 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 7ab53f4e-42dc-44e1-a5c2-a9f81172d504 for AAPL on 2025-07-15 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process c3aa6894-92d5-4355-b3dc-0a1f4a316a86 for AAPL on 2025-07-16 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process f7fb5449-840f-47e1-b062-fd7dff6337f2 for AAPL on 2025-07-17 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 01367efb-7088-4b02-a39f-fcb73b231702 for AAPL on 2025-07-18 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 23d9b6eb-b4f8-4654-b9ac-f3dd28cdf7c3 for AAPL on 2025-07-21 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.core.engine:Calculating backtest results
INFO:backtest2.analysis.benchmark:Loading benchmark data for SPY
INFO:backtest2.analysis.benchmark:Loaded 64 benchmark data points
ERROR:backtest2.core.engine:Backtest failed: 'BacktestResult' object has no attribute 'portfolio_history'
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/core/engine.py", line 122, in run
    result = await self._calculate_results()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/core/engine.py", line 363, in _calculate_results
    benchmark_comparator = BenchmarkComparator(self.config.benchmark)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/analysis/benchmark.py", line 118, in compare_with_backtest
AttributeError: 'BacktestResult' object has no attribute 'portfolio_history'
INFO:backtest2.core.engine:Cleaning up backtest resources
INFO:backtest2.data.manager_simple:Closing data manager
INFO:MemoryStore:Saved memories to results/backtest2_20250722_083728/AAPL/memories.json
ERROR:webui.backend.backtest2_wrapper:Backtest2 failed: 'BacktestResult' object has no attribute 'portfolio_history'
ERROR:webui.backend.backtest2_wrapper:Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/TradingMultiAgents/webui/backend/backtest2_wrapper.py", line 234, in run_backtest_async
    result = await engine.run()
             ^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/core/engine.py", line 122, in run
    result = await self._calculate_results()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/core/engine.py", line 363, in _calculate_results
    benchmark_comparator = BenchmarkComparator(self.config.benchmark)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/analysis/benchmark.py", line 118, in compare_with_backtest
AttributeError: 'BacktestResult' object has no attribute 'portfolio_history'

ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-1934' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-1935' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-1936' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-1938' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-1939' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-1943' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-1947' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-1948' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-1949' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-1952' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
  Stopping...
 TradingAgents WebUI...
 WebUI: /Users/y-sato/TradingAgents2/TradingMultiAgents/webui/app.py
 FINNHUB_API_KEY:  
 OPENAI_API_KEY:  
  http://localhost:8501 
  Ctrl+C 
