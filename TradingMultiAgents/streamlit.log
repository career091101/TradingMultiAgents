
  You can now view your Streamlit app in your browser.

  Local URL: http://localhost:8501
  Network URL: http://192.168.50.9:8501

WARNING:root:TradingMultiAgents dataflows not available
INFO:webui.backend.backtest2_wrapper:Successfully imported backtest2 modules (direct import)
INFO:webui.backend.backtest2_wrapper:BacktestConfig type: <class 'type'>
INFO:webui.backend.backtest2_wrapper:BacktestConfig module: backtest2.core.config
INFO:webui.backend.backtest2_wrapper:BacktestConfig existing fields: ['name', 'symbols', 'time_range', 'initial_capital', 'random_seed', 'max_positions', 'position_limits', 'llm_config', 'data_sources', 'reflection_config', 'result_dir', 'slippage', 'commission', 'risk_free_rate', 'benchmark', 'start_date', 'end_date', 'agent_config', 'data_config', 'risk_config', 'enable_parallel', 'max_workers', 'cache_size', 'log_level', 'save_results', 'results_path', 'enable_monitoring']
INFO:webui.backend.backtest2_wrapper:Creating BacktestConfig - class type: <class 'type'>
INFO:webui.backend.backtest2_wrapper:BacktestConfig module: backtest2.core.config
INFO:webui.backend.backtest2_wrapper:BacktestConfig MRO: (<class 'backtest2.core.config.BacktestConfig'>, <class 'object'>)
INFO:webui.backend.backtest2_wrapper:Is dataclass: True
INFO:webui.backend.backtest2_wrapper:Dataclass fields: ['name', 'symbols', 'time_range', 'initial_capital', 'random_seed', 'max_positions', 'position_limits', 'llm_config', 'data_sources', 'reflection_config', 'result_dir', 'slippage', 'commission', 'risk_free_rate', 'benchmark', 'start_date', 'end_date', 'agent_config', 'data_config', 'risk_config', 'enable_parallel', 'max_workers', 'cache_size', 'log_level', 'save_results', 'results_path', 'enable_monitoring']
INFO:webui.backend.backtest2_wrapper:Has random_seed attr: True
INFO:webui.backend.backtest2_wrapper:BacktestConfig.__init__ signature: {'name': <class 'str'>, 'symbols': typing.List[str], 'time_range': typing.Optional[backtest2.core.config.TimeRange], 'initial_capital': <class 'float'>, 'random_seed': <class 'int'>, 'max_positions': <class 'int'>, 'position_limits': typing.Dict[backtest2.core.config.RiskProfile, float], 'llm_config': <class 'backtest2.core.config.LLMConfig'>, 'data_sources': typing.List[str], 'reflection_config': typing.Optional[typing.Dict[str, typing.Any]], 'result_dir': typing.Optional[pathlib._local.Path], 'slippage': <class 'float'>, 'commission': <class 'float'>, 'risk_free_rate': <class 'float'>, 'benchmark': <class 'str'>, 'start_date': typing.Optional[datetime.datetime], 'end_date': typing.Optional[datetime.datetime], 'agent_config': typing.Optional[backtest2.core.config.AgentConfig], 'data_config': typing.Optional[backtest2.core.config.DataConfig], 'risk_config': typing.Optional[backtest2.core.config.RiskConfig], 'enable_parallel': <class 'bool'>, 'max_workers': <class 'int'>, 'cache_size': <class 'int'>, 'log_level': <class 'str'>, 'save_results': <class 'bool'>, 'results_path': <class 'str'>, 'enable_monitoring': <class 'bool'>, 'return': None}
INFO:backtest2.core.engine:Starting backtest execution 6f3ead71-5dc6-4d3c-a88f-cdcdf639a104
INFO:backtest2.core.engine:Initializing backtest environment
INFO:backtest2.data.manager_simple:Initializing data manager
INFO:backtest2.agents.orchestrator:Initialized 12 agents
INFO:backtest2.core.engine:Loading benchmark data for SPY
INFO:backtest2.agents.orchestrator:Starting decision process 7cca19e0-5d5d-43b1-a256-5a02231efb18 for AAPL on 2025-04-23 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 9cd3855a-edcc-4ff4-baff-90f8a54f8d9c for AAPL on 2025-04-24 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process e8e3a719-bf8f-47c2-9067-4f6052144c17 for AAPL on 2025-04-25 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process cdd5fe64-4917-404a-bae0-c03bc3acfa86 for AAPL on 2025-04-28 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process c4f28189-e548-4eeb-ac75-b7dfe8e4950e for AAPL on 2025-04-29 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process eab3e2c5-5349-4be5-846f-9641673b341b for AAPL on 2025-04-30 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 3acd342b-3107-4f42-b72a-c774b2efaec7 for AAPL on 2025-05-01 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 2e34e4d4-93a6-4a6f-8e35-c7c5751e953d for AAPL on 2025-05-02 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process b357a263-61cf-4c9d-ab69-4bbae37e6540 for AAPL on 2025-05-05 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 6ac0610f-3be2-46ec-bde0-a1b695873ee3 for AAPL on 2025-05-06 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process f67974a8-bf22-4e16-9ce5-91e92cd5e87a for AAPL on 2025-05-07 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 1e5e54c1-112f-4b33-b8cf-2edb9cdf51ac for AAPL on 2025-05-08 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process c106c8ed-4d02-4c81-905a-eb392888de06 for AAPL on 2025-05-09 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 4d46555f-921b-4253-9bcc-859a0d59b90b for AAPL on 2025-05-12 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 792a7c4c-2f44-487c-8d4e-924a732601ad for AAPL on 2025-05-13 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process b10fa631-cf97-48ea-9f72-f317004f3926 for AAPL on 2025-05-14 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 27b307f4-5567-4d1b-b7ea-24b34db17ee1 for AAPL on 2025-05-15 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process b4d84a40-d469-4b81-9b51-a97dcaaaa578 for AAPL on 2025-05-16 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process ff0e88ea-fe9d-47a7-bd40-66db32a03246 for AAPL on 2025-05-19 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 4d8052c7-879d-4c29-8d3a-73cdd6d2e7d6 for AAPL on 2025-05-20 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 23178cf4-b91d-44e2-94f7-7c0fd409d386 for AAPL on 2025-05-21 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process dba1cf22-1ce8-4117-b278-7b6e035440f8 for AAPL on 2025-05-22 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process d4a6f288-2a5d-40de-983e-b69db6874c50 for AAPL on 2025-05-23 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process a2b80251-f049-4d33-99e9-d0a3d8ef7f1d for AAPL on 2025-05-26 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process eb40ebd8-7260-45b4-a74c-7a576c430b60 for AAPL on 2025-05-27 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 7fa5f25a-d001-4f70-a3a7-01ed566c2809 for AAPL on 2025-05-28 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process c7c7c093-2210-4885-8118-9d43b74ea1b3 for AAPL on 2025-05-29 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 9653221b-2f1d-4db4-8395-964401964a05 for AAPL on 2025-05-30 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process e5e97945-c954-444a-a80c-c080ad5b9889 for AAPL on 2025-06-02 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process e3816734-ccf9-4467-b304-381ea34b3bd1 for AAPL on 2025-06-03 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process a8e2ef33-d96b-432e-9743-f8216e49cebb for AAPL on 2025-06-04 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 49a434eb-b4cc-426f-a6fe-60098032b5d2 for AAPL on 2025-06-05 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 9509636e-33c7-45d8-82b4-c09a5eb96940 for AAPL on 2025-06-06 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 0c0bbb6f-b165-4671-aa13-43f2f41a664a for AAPL on 2025-06-09 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process cb33e622-e4c9-4a73-89b5-a4c0d74ec863 for AAPL on 2025-06-10 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 67edcc66-5d38-4aea-9e63-fa6ab76f7f64 for AAPL on 2025-06-11 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 116ebdd7-b6a7-463e-8b64-22a02c1cea41 for AAPL on 2025-06-12 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 76b5c91b-b488-4f73-aaf7-5d62e66fa160 for AAPL on 2025-06-13 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process a6ba5183-c906-43aa-85dc-a7446e5e306c for AAPL on 2025-06-16 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 97126e64-2924-4925-bb4d-d14bf3d5d66a for AAPL on 2025-06-17 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 9427bea5-e27b-4fd0-a8ac-6f587c544bdc for AAPL on 2025-06-18 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process cfc5da01-4917-4d18-8ed1-1b6071d1cc1a for AAPL on 2025-06-19 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 17e187e6-a0b6-45d1-b025-5286beb91fdb for AAPL on 2025-06-20 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 415cffc3-3e80-4b03-9cbf-add0e30eaac8 for AAPL on 2025-06-23 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 95f2e3e2-70c4-4be8-bc90-7aae237127c1 for AAPL on 2025-06-24 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process e740257f-8edc-4415-b0f0-b5310e00fd18 for AAPL on 2025-06-25 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 826c1f7d-6658-4c93-9c12-b921ed78223f for AAPL on 2025-06-26 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 7512ccad-45d5-4815-b404-343500f39f6e for AAPL on 2025-06-27 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 42b6b9cd-dfdb-48d0-b58f-28877ea838c4 for AAPL on 2025-06-30 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 65e9b10c-7038-490f-b2e9-a4f2995f9f1f for AAPL on 2025-07-01 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 7bd375f2-2c36-4c5c-aa4f-7ad52f20cdf9 for AAPL on 2025-07-02 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process f73aeb45-79f0-455b-9e2b-41b5885bd2df for AAPL on 2025-07-03 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process ef8867e6-79df-4e5e-9d3c-e470a7cb3c2b for AAPL on 2025-07-04 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process d647b824-414f-4769-a491-bfb28ebf2159 for AAPL on 2025-07-07 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 9cffc229-f70d-42b9-9f7f-3f8e5484805e for AAPL on 2025-07-08 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 63834598-2151-4560-8868-4ab383d15758 for AAPL on 2025-07-09 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 47fbed7e-952e-4a86-9464-537f5aaa0631 for AAPL on 2025-07-10 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 19eed22e-51bc-4ca6-8a84-3f5f1e75c571 for AAPL on 2025-07-11 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process b162a546-cc66-4e93-b0f9-4f5cdb4abdb6 for AAPL on 2025-07-14 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process a407a660-7368-4fb8-8e43-175a092412cb for AAPL on 2025-07-15 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process ddd33840-38c6-4a36-b5cb-340fcdc662b7 for AAPL on 2025-07-16 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 2fd72c93-2d79-48fc-a226-bd48b049608e for AAPL on 2025-07-17 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 8fac5e21-b5ec-48fd-8ce3-743abcaf6516 for AAPL on 2025-07-18 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 1769f5dd-45b5-423f-9fe0-ce367e6b07b2 for AAPL on 2025-07-21 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.core.engine:Calculating backtest results
INFO:backtest2.analysis.benchmark:Loading benchmark data for SPY
INFO:backtest2.analysis.benchmark:Loaded 64 benchmark data points
INFO:BacktestLogger:Results saved to results/backtest2_20250722_083951/AAPL
INFO:backtest2.core.engine:Cleaning up backtest resources
INFO:backtest2.data.manager_simple:Closing data manager
INFO:MemoryStore:Saved memories to results/backtest2_20250722_083951/AAPL/memories.json
ERROR:webui.backend.backtest2_wrapper:Backtest2 failed: 'BacktestResult' object has no attribute 'result_path'
ERROR:webui.backend.backtest2_wrapper:Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/TradingMultiAgents/webui/backend/backtest2_wrapper.py", line 237, in run_backtest_async
    ticker_results = self._process_results(result, ticker, config)
  File "/Users/y-sato/TradingAgents2/TradingMultiAgents/webui/backend/backtest2_wrapper.py", line 549, in _process_results
    if result.result_path:
       ^^^^^^^^^^^^^^^^^^
AttributeError: 'BacktestResult' object has no attribute 'result_path'

ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-649' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-650' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-651' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-652' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-653' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-654' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-655' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-656' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-657' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-658' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
INFO:webui.backend.backtest2_wrapper:Successfully imported backtest2 modules (direct import)
INFO:webui.backend.backtest2_wrapper:BacktestConfig type: <class 'type'>
INFO:webui.backend.backtest2_wrapper:BacktestConfig module: backtest2.core.config
INFO:webui.backend.backtest2_wrapper:BacktestConfig existing fields: ['name', 'symbols', 'time_range', 'initial_capital', 'random_seed', 'max_positions', 'position_limits', 'llm_config', 'data_sources', 'reflection_config', 'result_dir', 'slippage', 'commission', 'risk_free_rate', 'benchmark', 'start_date', 'end_date', 'agent_config', 'data_config', 'risk_config', 'enable_parallel', 'max_workers', 'cache_size', 'log_level', 'save_results', 'results_path', 'enable_monitoring']
INFO:webui.backend.backtest2_wrapper:Creating BacktestConfig - class type: <class 'type'>
INFO:webui.backend.backtest2_wrapper:BacktestConfig module: backtest2.core.config
INFO:webui.backend.backtest2_wrapper:BacktestConfig MRO: (<class 'backtest2.core.config.BacktestConfig'>, <class 'object'>)
INFO:webui.backend.backtest2_wrapper:Is dataclass: True
INFO:webui.backend.backtest2_wrapper:Dataclass fields: ['name', 'symbols', 'time_range', 'initial_capital', 'random_seed', 'max_positions', 'position_limits', 'llm_config', 'data_sources', 'reflection_config', 'result_dir', 'slippage', 'commission', 'risk_free_rate', 'benchmark', 'start_date', 'end_date', 'agent_config', 'data_config', 'risk_config', 'enable_parallel', 'max_workers', 'cache_size', 'log_level', 'save_results', 'results_path', 'enable_monitoring']
INFO:webui.backend.backtest2_wrapper:Has random_seed attr: True
INFO:webui.backend.backtest2_wrapper:BacktestConfig.__init__ signature: {'name': <class 'str'>, 'symbols': typing.List[str], 'time_range': typing.Optional[backtest2.core.config.TimeRange], 'initial_capital': <class 'float'>, 'random_seed': <class 'int'>, 'max_positions': <class 'int'>, 'position_limits': typing.Dict[backtest2.core.config.RiskProfile, float], 'llm_config': <class 'backtest2.core.config.LLMConfig'>, 'data_sources': typing.List[str], 'reflection_config': typing.Optional[typing.Dict[str, typing.Any]], 'result_dir': typing.Optional[pathlib._local.Path], 'slippage': <class 'float'>, 'commission': <class 'float'>, 'risk_free_rate': <class 'float'>, 'benchmark': <class 'str'>, 'start_date': typing.Optional[datetime.datetime], 'end_date': typing.Optional[datetime.datetime], 'agent_config': typing.Optional[backtest2.core.config.AgentConfig], 'data_config': typing.Optional[backtest2.core.config.DataConfig], 'risk_config': typing.Optional[backtest2.core.config.RiskConfig], 'enable_parallel': <class 'bool'>, 'max_workers': <class 'int'>, 'cache_size': <class 'int'>, 'log_level': <class 'str'>, 'save_results': <class 'bool'>, 'results_path': <class 'str'>, 'enable_monitoring': <class 'bool'>, 'return': None}
INFO:backtest2.core.engine:Starting backtest execution 46a4306c-fa42-4654-a0c8-9403fcf1fa12
INFO:backtest2.core.engine:Initializing backtest environment
INFO:backtest2.data.manager_simple:Initializing data manager
INFO:backtest2.agents.orchestrator:Initialized 12 agents
INFO:backtest2.core.engine:Loading benchmark data for SPY
INFO:backtest2.agents.orchestrator:Starting decision process b80b53e0-ad6b-49c1-a113-3e0684115eae for AAPL on 2025-04-23 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 1819f809-0022-4ad0-b802-3c266b9d603f for AAPL on 2025-04-24 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 78dfd3f5-23b5-4a54-9dee-ad938b62fae5 for AAPL on 2025-04-25 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process e1f81f5b-b100-4712-9856-e1bc9f10a2d9 for AAPL on 2025-04-28 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 0602f9ff-bb98-46a0-a977-477a998bf953 for AAPL on 2025-04-29 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 5688c4ee-b13b-4212-9c20-aa199e61c362 for AAPL on 2025-04-30 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 92a85f2a-2a00-49fe-982f-8308a4066eb6 for AAPL on 2025-05-01 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 24b09338-73ae-40f7-829a-6fd3ada55296 for AAPL on 2025-05-02 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process f3a5904d-b667-4ef7-bde5-5a570582e537 for AAPL on 2025-05-05 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 2651ad3d-727e-44bd-ad2a-e5a6ab00730f for AAPL on 2025-05-06 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 36856b31-563a-46cb-b57f-bdc56a141020 for AAPL on 2025-05-07 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process f40f533d-5326-4a43-8c18-0cd89ceaf0e9 for AAPL on 2025-05-08 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 3fa55637-12b2-4772-81ec-2a1b69cc58f4 for AAPL on 2025-05-09 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 8f64aa58-bc55-45e5-9b53-7b675136ab88 for AAPL on 2025-05-12 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 2395698c-96e5-4adb-b3f2-4f1546c49e18 for AAPL on 2025-05-13 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 1918a35d-3b72-4731-a0c2-848cd18cc553 for AAPL on 2025-05-14 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 4548e0cb-d26c-45b7-a942-56911a039e2f for AAPL on 2025-05-15 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 1e3e6832-2046-44a0-9519-2f2377cd6bae for AAPL on 2025-05-16 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process e5164dcc-9f02-4d6e-bb5e-4556ead988a9 for AAPL on 2025-05-19 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 309947aa-9786-4589-868f-6ab4f9f3f0bb for AAPL on 2025-05-20 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process da394be4-1b74-4454-99af-f143a948feeb for AAPL on 2025-05-21 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process bef2af3e-70e2-4c8c-9c80-5d0f427e8d8d for AAPL on 2025-05-22 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 1bf3875c-8eea-4c8d-9b08-fafdd822dd92 for AAPL on 2025-05-23 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process d57df895-1f99-4ff9-81eb-0743bffaadad for AAPL on 2025-05-26 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 0b617a2e-5bfb-417b-a568-407b99d83384 for AAPL on 2025-05-27 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process de2a0111-95da-4f8c-8e2b-16c06c22b6c2 for AAPL on 2025-05-28 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 79f3ee40-f073-4f42-89d0-1cfc8ea34e19 for AAPL on 2025-05-29 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 6106236f-ef6b-4e5f-8559-f50dd8794f74 for AAPL on 2025-05-30 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process f229db52-d9f4-4f69-8470-0fbcb677e72c for AAPL on 2025-06-02 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 1235c6df-693f-4299-8198-a61f968876ff for AAPL on 2025-06-03 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 3dcc57f4-a04c-4994-bda0-e6d99b4dfeb7 for AAPL on 2025-06-04 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 51dfe294-5afc-4a65-a218-24a2c10b3001 for AAPL on 2025-06-05 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process c9423a44-b74d-416b-a058-0efe67390211 for AAPL on 2025-06-06 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process cf615392-6b9f-401c-a062-e0017cdc7b6d for AAPL on 2025-06-09 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process f9661a27-da27-4873-b0d7-68dcfa5f9a05 for AAPL on 2025-06-10 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 3e66046e-1691-49a2-97c7-ab4ce54080af for AAPL on 2025-06-11 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 7f88f3b5-d0f9-40b5-93f8-83ea4942c337 for AAPL on 2025-06-12 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 9ea1b37c-f7ae-4ec6-bd48-fd6caadc43b6 for AAPL on 2025-06-13 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 03f837ce-4583-4ed3-a382-b444b60f3fd9 for AAPL on 2025-06-16 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 575b89b0-8fc4-4ef4-b069-e65c9e6eea6f for AAPL on 2025-06-17 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 9df9f89d-45ef-47b4-90bb-d978673e1d3b for AAPL on 2025-06-18 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process adf33198-6a51-4a0a-8125-1b97818d635b for AAPL on 2025-06-19 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 4f62b3e3-cd59-4306-bf42-2dee3650a303 for AAPL on 2025-06-20 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process ef13dd30-0f56-422e-9829-a9a252f3eb12 for AAPL on 2025-06-23 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 538b0c55-7397-4bc3-be6e-613563e16ba5 for AAPL on 2025-06-24 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 8c7f848d-4ed7-43d6-9a4c-9855c59eb823 for AAPL on 2025-06-25 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 5a207e73-8bc3-4acc-9577-adda3d65ca73 for AAPL on 2025-06-26 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process b8b2bffb-a891-480c-bbfd-b4b781b881dc for AAPL on 2025-06-27 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 06383f5f-258c-49f8-bb72-23737747895b for AAPL on 2025-06-30 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 6e1ba1a1-31e0-4057-ac7b-d7b1ad9edaff for AAPL on 2025-07-01 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process fc586f15-552b-4ec9-bfb4-97c025004bd0 for AAPL on 2025-07-02 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 4c921039-1ae0-4616-86e3-7181b8b22559 for AAPL on 2025-07-03 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 29b24c34-03c7-465a-b72e-6ace6e0feeee for AAPL on 2025-07-04 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process bccf8f95-0bbe-45e7-ada7-3138400646e1 for AAPL on 2025-07-07 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process e6df671d-f66a-41e7-a3ea-175e1d7c6116 for AAPL on 2025-07-08 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 5b4e44f6-7fc6-4e55-8e7b-6da5012ea825 for AAPL on 2025-07-09 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process b846363b-b5e1-4837-960a-c468a5fdc785 for AAPL on 2025-07-10 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process ec346ec0-6549-467e-bbea-b356eebc825b for AAPL on 2025-07-11 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process f639d45e-baed-4ad6-ab1b-831169880bc2 for AAPL on 2025-07-14 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 1dd49255-62d1-46f3-b2ff-20bd5fc98bab for AAPL on 2025-07-15 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 9913bd12-7c36-48d4-beaf-509d547c2a7f for AAPL on 2025-07-16 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process bc35a29f-847a-475a-bc3d-27a4190fb324 for AAPL on 2025-07-17 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process d0edecc4-a239-4846-9410-e8de1feccc37 for AAPL on 2025-07-18 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 8319188a-459d-4d77-8c4e-742b56f302e0 for AAPL on 2025-07-21 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.core.engine:Calculating backtest results
INFO:backtest2.analysis.benchmark:Loading benchmark data for SPY
INFO:backtest2.analysis.benchmark:Loaded 64 benchmark data points
INFO:BacktestLogger:Results saved to results/backtest2_20250722_084150/AAPL
INFO:backtest2.core.engine:Cleaning up backtest resources
INFO:backtest2.data.manager_simple:Closing data manager
INFO:MemoryStore:Saved memories to results/backtest2_20250722_084150/AAPL/memories.json
INFO:backtest2.core.engine:Starting backtest execution 7892b33d-c4b0-4b16-adc3-d759c560de5e
INFO:backtest2.core.engine:Initializing backtest environment
INFO:backtest2.data.manager_simple:Initializing data manager
INFO:backtest2.agents.orchestrator:Initialized 12 agents
INFO:backtest2.core.engine:Loading benchmark data for SPY
INFO:backtest2.agents.orchestrator:Starting decision process 7aab44db-be92-4191-9f1a-9d5665fcad45 for MSFT on 2025-04-23 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 2b5b5189-fd0b-430b-8916-33513d899895 for MSFT on 2025-04-24 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process b0265c2f-cbb0-4020-896f-869555d6921c for MSFT on 2025-04-25 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 53927ba3-70be-48ad-a038-cc530e9222e4 for MSFT on 2025-04-28 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 8cbdc1f5-fc88-45b5-a7b7-a5f244a7ba43 for MSFT on 2025-04-29 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process fa25d70f-833b-4080-8070-9e91680000e4 for MSFT on 2025-04-30 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 62c0b1c7-4737-4300-b073-3ff376dfe833 for MSFT on 2025-05-01 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 6e01088e-d7e8-402b-83b2-5a887f0359a7 for MSFT on 2025-05-02 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 5891fe8d-bd08-46c0-a179-3b9afbb58f7f for MSFT on 2025-05-05 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process e0217003-b216-4b85-8d70-cbc0a127ed56 for MSFT on 2025-05-06 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 8efa3331-488a-4751-95e8-37669ef2d921 for MSFT on 2025-05-07 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process cda0f60a-c9fc-40a4-874f-10731733024a for MSFT on 2025-05-08 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 6f4a067f-383e-41fd-aec3-82baa59cafe6 for MSFT on 2025-05-09 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 15674702-595e-4280-bb9c-a23ffbdc8b2d for MSFT on 2025-05-12 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process a6c69564-5bdd-4ebc-a279-119148b5ca38 for MSFT on 2025-05-13 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 451a1474-f995-44b9-aa19-6dd3e858c885 for MSFT on 2025-05-14 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 670f4464-f28d-4d70-9562-afc00cb4da16 for MSFT on 2025-05-15 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process efbd0140-a4fa-4991-9d52-080cb86a7c94 for MSFT on 2025-05-16 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process ea293833-6d44-4ee2-9300-82582a52c01d for MSFT on 2025-05-19 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 4932fc3c-12fc-4d95-add0-6a80b7fd00c2 for MSFT on 2025-05-20 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process c5cfb196-07ab-430f-8a63-9e1b978ae908 for MSFT on 2025-05-21 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 30e9db9e-d34c-478f-8586-f45a55da60b3 for MSFT on 2025-05-22 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 802130f1-3c32-4245-a042-97e3cb3c36f1 for MSFT on 2025-05-23 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 9c85a7da-872c-4cfb-ab75-1578f081ca90 for MSFT on 2025-05-26 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process ff728eed-7a1d-4dc9-abaa-d9458220447e for MSFT on 2025-05-27 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process c2243d32-766d-4aaa-9ff3-3ff0d5120f49 for MSFT on 2025-05-28 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process f30ac0c0-6104-4eb1-9fe2-914f1bd5a53d for MSFT on 2025-05-29 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 763354d4-3a2e-466c-8f6d-c737be51885f for MSFT on 2025-05-30 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 8fa458c1-bf91-4b08-b865-1bafa2ea25e5 for MSFT on 2025-06-02 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process dc879f30-0bf8-40cf-8b17-867329b28e11 for MSFT on 2025-06-03 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process c5ceb016-b19c-416f-9ecd-a6d4d9ac51cf for MSFT on 2025-06-04 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process c3c8b34a-c333-4d7a-acf5-278b773f8605 for MSFT on 2025-06-05 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process fde6c4c3-e1f8-4432-a592-c60e48be0fe6 for MSFT on 2025-06-06 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process adff4a0c-b52d-4c06-80e3-c1eafc1cd03d for MSFT on 2025-06-09 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 51c10032-ed49-460d-867d-00831b441a4b for MSFT on 2025-06-10 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process e9d7fb3d-9229-4e71-9a59-9a51c398262c for MSFT on 2025-06-11 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 6ec0cef0-6229-4a07-816a-9b2f17032ea3 for MSFT on 2025-06-12 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 1c8def06-70fc-4ef9-b8f5-11dbedf7ff2c for MSFT on 2025-06-13 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 81a34aa2-91c0-4676-b189-d7df3354cdb5 for MSFT on 2025-06-16 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 2a66fe7f-ef2f-4eda-b7e1-c10b7d28777a for MSFT on 2025-06-17 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 04b0b0d2-0457-4e53-930a-e5224d3d6d1f for MSFT on 2025-06-18 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 80176237-4cc7-4293-a4eb-9968e38232c3 for MSFT on 2025-06-19 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process d997e121-d131-4549-a59d-dd66b815f484 for MSFT on 2025-06-20 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 2af6d39b-6fcc-47fb-b3ca-93d7196a8dc6 for MSFT on 2025-06-23 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 03800001-d40b-4126-a138-d89bc7583896 for MSFT on 2025-06-24 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 5d38a3ba-3ee0-4499-9f29-2adbcad8fb23 for MSFT on 2025-06-25 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 47026ecb-30a8-462b-b54d-c3c94da3e543 for MSFT on 2025-06-26 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 06d18c45-d107-4fe2-ab5e-c2dc8d0222f4 for MSFT on 2025-06-27 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 8a2cecd7-ae58-4a39-ba45-856ac39c6716 for MSFT on 2025-06-30 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process d5920979-f6db-4838-be1d-2455df402f77 for MSFT on 2025-07-01 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process fd4b144a-c840-4be7-808c-8de23c3c9738 for MSFT on 2025-07-02 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 8273cc22-381b-4707-92ea-d5bf28b91088 for MSFT on 2025-07-03 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 200f790b-658a-4d4b-8d63-241c4db39f74 for MSFT on 2025-07-04 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process bf372767-12cf-4087-aa30-a92fa8fa9205 for MSFT on 2025-07-07 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 3f343c00-8ac4-4ae9-ab47-807c6082a179 for MSFT on 2025-07-08 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 4db63b79-18bf-42c8-88af-9c6dd441b423 for MSFT on 2025-07-09 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 3e10ea90-d423-48e0-b82a-628ea5174726 for MSFT on 2025-07-10 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process f074d0f0-dc92-4e2e-8001-b6a108b04d9d for MSFT on 2025-07-11 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process b40844e9-dbcb-455d-ae0b-69d9b3f5cfd2 for MSFT on 2025-07-14 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 9ef44017-a1e7-4f48-bd00-c04fcf42d588 for MSFT on 2025-07-15 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 73a198f2-4f8b-4c9b-b1e2-b236cad01014 for MSFT on 2025-07-16 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process e454891e-b164-472b-a688-98ac7b09a0b9 for MSFT on 2025-07-17 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process c575d0fa-b770-4a26-a3ad-01d67a836543 for MSFT on 2025-07-18 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process f9241da6-32c7-40e4-b7ee-304e1c3b986f for MSFT on 2025-07-21 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.core.engine:Calculating backtest results
INFO:backtest2.analysis.benchmark:Loading benchmark data for SPY
INFO:backtest2.analysis.benchmark:Loaded 64 benchmark data points
INFO:BacktestLogger:Results saved to results/backtest2_20250722_084150/MSFT
INFO:backtest2.core.engine:Cleaning up backtest resources
INFO:backtest2.data.manager_simple:Closing data manager
INFO:MemoryStore:Saved memories to results/backtest2_20250722_084150/MSFT/memories.json
ERROR:__main__:Application error: 'int' object has no attribute 'get'
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-1331' coro=<CacheManager._cleanup_loop() done, defined at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:116> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-1332' coro=<CacheManager._cleanup_loop() done, defined at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:116> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-1333' coro=<CacheManager._cleanup_loop() done, defined at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:116> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-1334' coro=<CacheManager._cleanup_loop() done, defined at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:116> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-1335' coro=<CacheManager._cleanup_loop() done, defined at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:116> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-1336' coro=<CacheManager._cleanup_loop() done, defined at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:116> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-1337' coro=<CacheManager._cleanup_loop() done, defined at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:116> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-1338' coro=<CacheManager._cleanup_loop() done, defined at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:116> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-1339' coro=<CacheManager._cleanup_loop() done, defined at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:116> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-1340' coro=<CacheManager._cleanup_loop() done, defined at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:116> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-1208' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-1209' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-1210' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-1212' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-1213' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-1215' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-1216' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-1217' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-1219' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-1222' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
INFO:webui.backend.backtest2_wrapper:Successfully imported backtest2 modules (direct import)
INFO:webui.backend.backtest2_wrapper:BacktestConfig type: <class 'type'>
INFO:webui.backend.backtest2_wrapper:BacktestConfig module: backtest2.core.config
INFO:webui.backend.backtest2_wrapper:BacktestConfig existing fields: ['name', 'symbols', 'time_range', 'initial_capital', 'random_seed', 'max_positions', 'position_limits', 'llm_config', 'data_sources', 'reflection_config', 'result_dir', 'slippage', 'commission', 'risk_free_rate', 'benchmark', 'start_date', 'end_date', 'agent_config', 'data_config', 'risk_config', 'enable_parallel', 'max_workers', 'cache_size', 'log_level', 'save_results', 'results_path', 'enable_monitoring']
INFO:webui.backend.backtest2_wrapper:Creating BacktestConfig - class type: <class 'type'>
INFO:webui.backend.backtest2_wrapper:BacktestConfig module: backtest2.core.config
INFO:webui.backend.backtest2_wrapper:BacktestConfig MRO: (<class 'backtest2.core.config.BacktestConfig'>, <class 'object'>)
INFO:webui.backend.backtest2_wrapper:Is dataclass: True
INFO:webui.backend.backtest2_wrapper:Dataclass fields: ['name', 'symbols', 'time_range', 'initial_capital', 'random_seed', 'max_positions', 'position_limits', 'llm_config', 'data_sources', 'reflection_config', 'result_dir', 'slippage', 'commission', 'risk_free_rate', 'benchmark', 'start_date', 'end_date', 'agent_config', 'data_config', 'risk_config', 'enable_parallel', 'max_workers', 'cache_size', 'log_level', 'save_results', 'results_path', 'enable_monitoring']
INFO:webui.backend.backtest2_wrapper:Has random_seed attr: True
INFO:webui.backend.backtest2_wrapper:BacktestConfig.__init__ signature: {'name': <class 'str'>, 'symbols': typing.List[str], 'time_range': typing.Optional[backtest2.core.config.TimeRange], 'initial_capital': <class 'float'>, 'random_seed': <class 'int'>, 'max_positions': <class 'int'>, 'position_limits': typing.Dict[backtest2.core.config.RiskProfile, float], 'llm_config': <class 'backtest2.core.config.LLMConfig'>, 'data_sources': typing.List[str], 'reflection_config': typing.Optional[typing.Dict[str, typing.Any]], 'result_dir': typing.Optional[pathlib._local.Path], 'slippage': <class 'float'>, 'commission': <class 'float'>, 'risk_free_rate': <class 'float'>, 'benchmark': <class 'str'>, 'start_date': typing.Optional[datetime.datetime], 'end_date': typing.Optional[datetime.datetime], 'agent_config': typing.Optional[backtest2.core.config.AgentConfig], 'data_config': typing.Optional[backtest2.core.config.DataConfig], 'risk_config': typing.Optional[backtest2.core.config.RiskConfig], 'enable_parallel': <class 'bool'>, 'max_workers': <class 'int'>, 'cache_size': <class 'int'>, 'log_level': <class 'str'>, 'save_results': <class 'bool'>, 'results_path': <class 'str'>, 'enable_monitoring': <class 'bool'>, 'return': None}
INFO:backtest2.core.engine:Starting backtest execution 82640263-7c8f-4764-a256-dd58de5651fc
INFO:backtest2.core.engine:Initializing backtest environment
INFO:backtest2.data.manager_simple:Initializing data manager
INFO:backtest2.agents.orchestrator:Initialized 12 agents
INFO:backtest2.core.engine:Loading benchmark data for SPY
INFO:backtest2.agents.orchestrator:Starting decision process 37a94301-3fdc-4a0c-a12b-73da842b3183 for AAPL on 2025-04-23 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process ae337d80-9f4e-448c-b7c4-e93f6d156a0c for AAPL on 2025-04-24 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 1d3eb089-e78f-4725-a3b4-a0181656c002 for AAPL on 2025-04-25 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process ca3ce506-70f5-46f5-b176-6c17d22f5fb0 for AAPL on 2025-04-28 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process b590f1a7-60e4-4f4e-a9a7-94746061cd92 for AAPL on 2025-04-29 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process b46cf98f-c14d-4586-bacd-38d547f4faf6 for AAPL on 2025-04-30 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process d8b1d795-924e-48b2-9e41-a81a8a69af18 for AAPL on 2025-05-01 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 7e2e998f-24ed-4abc-983c-850e0f2fde9a for AAPL on 2025-05-02 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process e80c33c8-e8e9-49f5-b51e-5ccc25565f1f for AAPL on 2025-05-05 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 94e0f475-0865-48d8-868b-4f79a4f6de1b for AAPL on 2025-05-06 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 60b64293-8c36-4854-a789-76e2c90fbac2 for AAPL on 2025-05-07 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 0489eaf5-6f04-4061-b0e0-8628c75ed8a2 for AAPL on 2025-05-08 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 62a135c2-da3f-4f8d-b732-0a91f75c2269 for AAPL on 2025-05-09 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process a5159f88-785e-4d44-9f9b-c12af6d2a5f0 for AAPL on 2025-05-12 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process d0b96ea2-cc33-4820-ba9f-481e7b189038 for AAPL on 2025-05-13 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 5c43bd20-c98b-4d5c-ba93-2443d480e1e7 for AAPL on 2025-05-14 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 4ee1cad1-5e74-4ba2-983e-f3305ae91abe for AAPL on 2025-05-15 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 247c3a32-75a1-480b-9b8c-9598b5d8fcc0 for AAPL on 2025-05-16 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process c89e8f15-5ccf-4c74-a732-5b76c3d15576 for AAPL on 2025-05-19 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process aed8bedc-930d-4531-ad1e-5501a328c22b for AAPL on 2025-05-20 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process a75ac8be-347d-408f-ba73-7def9555e0f1 for AAPL on 2025-05-21 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 176be92b-4fff-4874-bc7a-79209c577625 for AAPL on 2025-05-22 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 725797d9-73b6-45da-926f-6b635644dc5f for AAPL on 2025-05-23 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process ecdf4026-31a1-48aa-a5d5-17717331b267 for AAPL on 2025-05-26 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 2a8b46da-b2bf-486c-9825-aa5371711921 for AAPL on 2025-05-27 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 359c4586-5de8-44e5-b9a1-4e7c78f3d2d8 for AAPL on 2025-05-28 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process dc68dba4-7a9d-4719-8057-d53e85f1901a for AAPL on 2025-05-29 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 3d90aa5d-6491-44fa-b492-07a77fa96656 for AAPL on 2025-05-30 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 80bffbed-62f5-4b0d-bdcb-636729374128 for AAPL on 2025-06-02 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 36ef0cbc-817e-4969-abc2-bc9f109be486 for AAPL on 2025-06-03 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 7bd9c711-35d5-4206-9209-eae07e61dcad for AAPL on 2025-06-04 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process acd10f35-0182-41c2-b9b0-f3baca3b00ca for AAPL on 2025-06-05 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 7ae1192e-e240-4875-b31f-e7da868f02d1 for AAPL on 2025-06-06 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process dc7f5343-23a9-403a-b267-890805efa45b for AAPL on 2025-06-09 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process e7fe7b0b-286c-405c-84fe-9486ef9150ac for AAPL on 2025-06-10 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 6e74830c-5fb4-4b6b-abaf-2170dff3002b for AAPL on 2025-06-11 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 581b29b3-c9cb-4b03-bf31-83dfd1fd670c for AAPL on 2025-06-12 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 86e9ada0-6684-4553-ac8d-0b6ddbf77c51 for AAPL on 2025-06-13 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process c18669af-40e2-4763-a4df-83a0a0ab9cf4 for AAPL on 2025-06-16 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 78d00aee-a897-44c7-bccb-869e99cf7ac4 for AAPL on 2025-06-17 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process d6617ea4-ce4b-45ea-aa40-168976939660 for AAPL on 2025-06-18 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process fc377f32-a02e-4224-bdb1-eb54a1263cfe for AAPL on 2025-06-19 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 02d979eb-291b-4183-baf4-072a3027201c for AAPL on 2025-06-20 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 1ffc3249-cf36-4bc2-b11d-046a8884191f for AAPL on 2025-06-23 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process e0cb86ed-31cc-459a-be73-4737bddd5dfb for AAPL on 2025-06-24 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 458ae334-8236-4dcc-9d5a-b3dc418896a8 for AAPL on 2025-06-25 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 36cc923d-eb1f-45be-b3ef-8e225edc98c5 for AAPL on 2025-06-26 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 7e77296a-2167-4f19-acbd-0e74453b81e7 for AAPL on 2025-06-27 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process d283404f-7d7b-4143-ab7b-5aeff286feb7 for AAPL on 2025-06-30 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process f01b1d43-5965-442b-b00d-4c31118563db for AAPL on 2025-07-01 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process b1192ac4-0c23-424f-b71a-4c0f1cf57e96 for AAPL on 2025-07-02 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 1ec6b2e4-6ef6-4ac4-9a50-194f25a8fc8f for AAPL on 2025-07-03 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 9b1b8fd5-6ca5-4334-843f-28d1f29f4b33 for AAPL on 2025-07-04 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process da416174-2f8b-4c6e-97c9-937b15ee401d for AAPL on 2025-07-07 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 793bc849-25f3-477a-b322-d775238b7987 for AAPL on 2025-07-08 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 278b85a3-49fa-4986-9a1b-66ce878b2ae3 for AAPL on 2025-07-09 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process ecf25481-370c-4fea-8a39-5ae15b2d161a for AAPL on 2025-07-10 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process bade5485-75d0-498f-a285-94a80a8505d1 for AAPL on 2025-07-11 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 1ff37e6f-44a4-4771-b7d9-0975984cf67e for AAPL on 2025-07-14 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process a3c65786-8af0-4978-ab41-e5c9ba5e8e04 for AAPL on 2025-07-15 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 3b3a1279-481d-4c79-83ac-80e9d0823600 for AAPL on 2025-07-16 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 859b5ec0-85e9-43c0-bef1-aa18136f64da for AAPL on 2025-07-17 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 67e326bd-046a-40b6-85f1-2c75e4cf75f3 for AAPL on 2025-07-18 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 97f76da1-3078-4371-b258-c9821955da00 for AAPL on 2025-07-21 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.core.engine:Calculating backtest results
INFO:backtest2.analysis.benchmark:Loading benchmark data for SPY
INFO:backtest2.analysis.benchmark:Loaded 64 benchmark data points
INFO:BacktestLogger:Results saved to results/backtest2_20250722_085051/AAPL
INFO:backtest2.core.engine:Cleaning up backtest resources
INFO:backtest2.data.manager_simple:Closing data manager
INFO:MemoryStore:Saved memories to results/backtest2_20250722_085051/AAPL/memories.json
INFO:backtest2.core.engine:Starting backtest execution 7122d2d5-e414-422e-a589-50c2abea3fa7
INFO:backtest2.core.engine:Initializing backtest environment
INFO:backtest2.data.manager_simple:Initializing data manager
INFO:backtest2.agents.orchestrator:Initialized 12 agents
INFO:backtest2.core.engine:Loading benchmark data for SPY
INFO:backtest2.agents.orchestrator:Starting decision process 345556bd-4af5-4832-b719-e90ef9dcc712 for MSFT on 2025-04-23 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 79e8bb43-29c6-4d13-b4bc-ab2ae516c8c3 for MSFT on 2025-04-24 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 6ac97129-24d3-4994-9a79-c8198e4a55b4 for MSFT on 2025-04-25 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 44cefe6b-0d0d-4267-a403-cb28b0043482 for MSFT on 2025-04-28 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process eb39e6dd-61e3-4f17-a359-1ecc158c15e6 for MSFT on 2025-04-29 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 8dc9f495-320f-4f0c-8eec-a87073110bb2 for MSFT on 2025-04-30 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process f1ea87b4-ecb9-4f3c-b195-969963e395de for MSFT on 2025-05-01 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process ec049dda-e890-45d2-be3d-2ab5f4e476bc for MSFT on 2025-05-02 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 2e8e07fd-b6b0-4c72-a7c4-36ae38463466 for MSFT on 2025-05-05 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process e716733d-2aab-45e3-87e0-5e0cff6c5940 for MSFT on 2025-05-06 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 3ce3f3c8-5586-4540-9d72-e9dcbbaaf845 for MSFT on 2025-05-07 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 3d58ccbd-a7a1-4fa1-9887-8e86a14d77eb for MSFT on 2025-05-08 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 3f41e540-e81a-4c59-b2cc-c28c188154d2 for MSFT on 2025-05-09 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 3a9e9b76-1446-464e-919d-05e73b0f249e for MSFT on 2025-05-12 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 605bfaa7-d225-493b-adcf-ddedcba9c883 for MSFT on 2025-05-13 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 549ee409-fd3c-47f3-93b8-c506a63b1df8 for MSFT on 2025-05-14 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 6083fd2e-7b60-4dc3-a1ff-0c86ea7adc61 for MSFT on 2025-05-15 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process d41ebd66-a330-4729-a943-7ae9e1c7daab for MSFT on 2025-05-16 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 62bbc0cd-9d4a-4100-a0e0-e2cba0a11322 for MSFT on 2025-05-19 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process d07c39d7-d935-4ff1-9884-921730baae26 for MSFT on 2025-05-20 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 61b9301d-c46f-4222-aa58-8f480344da14 for MSFT on 2025-05-21 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process a31b67ad-640d-4371-8c4b-98d257d8c5b5 for MSFT on 2025-05-22 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process b4e9ccc3-9dd6-4291-8969-2f87f2b1aa39 for MSFT on 2025-05-23 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process b746171d-41b0-4bb7-a13e-b5c64e6b7a79 for MSFT on 2025-05-26 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 68e02089-4ea4-4515-af00-14381694fc43 for MSFT on 2025-05-27 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 9435fe61-26aa-4529-afec-006460f528c7 for MSFT on 2025-05-28 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process ee820c10-160f-494e-a4e8-a0c46cea9b79 for MSFT on 2025-05-29 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process e1066390-9764-44cd-a147-eb7bc1f5af9d for MSFT on 2025-05-30 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process c0f9d244-36a2-40f5-84a1-ee8610191a94 for MSFT on 2025-06-02 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process adc15a5f-1bb4-4355-99af-422e95f3a601 for MSFT on 2025-06-03 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process d3f286eb-3965-419b-a517-fbe3568c5c36 for MSFT on 2025-06-04 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 04999de9-225c-4c22-80c3-afb5e87faf4a for MSFT on 2025-06-05 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 7d500049-4793-497f-8c3c-be53a9fde3ba for MSFT on 2025-06-06 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process f7c0034e-4b1f-4abb-8777-8c9d49aa1091 for MSFT on 2025-06-09 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 24cb3e80-0ac7-40fc-8a4b-5deda7bf2934 for MSFT on 2025-06-10 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 06a320c5-2f2e-4f83-a150-ee444ecb9e31 for MSFT on 2025-06-11 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 69cdb57f-ac15-4612-a4b7-a30dfc79cc92 for MSFT on 2025-06-12 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 7cae913e-953c-4830-bb9e-ea7c4e47d0b8 for MSFT on 2025-06-13 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process f9b93361-687e-4f32-8233-390079bb0504 for MSFT on 2025-06-16 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 2e018547-5149-4499-a44a-68c7c2364165 for MSFT on 2025-06-17 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process c64486ef-c62c-4acb-9e67-12e136851d5d for MSFT on 2025-06-18 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process e6703e23-c5a9-462e-ae85-9e0406749458 for MSFT on 2025-06-19 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 0effc356-1ea6-426d-973a-722cb4a5c72e for MSFT on 2025-06-20 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 39aa23c2-cec0-4fe7-8043-020e0219b0b4 for MSFT on 2025-06-23 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 40c68a0e-b857-49fc-9286-d46ff78707c2 for MSFT on 2025-06-24 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 09dff4d1-6393-4306-ad1a-b6587c72033d for MSFT on 2025-06-25 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process fbd58c90-e735-41f7-a878-4e8835e1a710 for MSFT on 2025-06-26 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process d5642e46-dffb-4059-8857-df1f08d74c76 for MSFT on 2025-06-27 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process ce9c2582-2f42-49c5-a81a-38b426b4a9e4 for MSFT on 2025-06-30 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process d8c88f88-c060-4776-a5ab-1f943248e3e4 for MSFT on 2025-07-01 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 9e5ef283-c1c7-4a9b-95fc-792bcccbe9fa for MSFT on 2025-07-02 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process ef505736-3428-4b13-b650-d480dcb747fa for MSFT on 2025-07-03 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process c67fd6b1-554a-4890-a94b-d4c9fcdcc8fd for MSFT on 2025-07-04 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 0a3519aa-2686-40d0-bab1-3b78ff1619ee for MSFT on 2025-07-07 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 3a678e0c-a06d-4c82-9c3c-b820fa13e1a0 for MSFT on 2025-07-08 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 930aa9af-ced2-453c-bec8-0bcef78539d2 for MSFT on 2025-07-09 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 249bb1ac-1b87-4acc-8f89-fd66127b62b3 for MSFT on 2025-07-10 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 7fb939b3-65ae-4d31-b29d-95ad9a81e35a for MSFT on 2025-07-11 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 3448f6c0-8333-42e7-b990-88f1659b3af5 for MSFT on 2025-07-14 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 91790f1a-1788-43ca-8150-6112ebec8a2b for MSFT on 2025-07-15 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 28c7f116-125b-47f3-87d4-ed8463665c41 for MSFT on 2025-07-16 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 7f8aefb1-a027-48c0-a379-e175cc59f35b for MSFT on 2025-07-17 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 3ac06afb-0780-4c9c-8a9c-1e54638cc2c8 for MSFT on 2025-07-18 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 39f6332b-1a19-49d0-932a-f4c4fe7c9f79 for MSFT on 2025-07-21 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.core.engine:Calculating backtest results
INFO:backtest2.analysis.benchmark:Loading benchmark data for SPY
INFO:backtest2.analysis.benchmark:Loaded 64 benchmark data points
INFO:BacktestLogger:Results saved to results/backtest2_20250722_085051/MSFT
INFO:backtest2.core.engine:Cleaning up backtest resources
INFO:backtest2.data.manager_simple:Closing data manager
INFO:MemoryStore:Saved memories to results/backtest2_20250722_085051/MSFT/memories.json
ERROR:__main__:Application error: 'int' object has no attribute 'get'
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-2088' coro=<CacheManager._cleanup_loop() done, defined at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:116> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-2089' coro=<CacheManager._cleanup_loop() done, defined at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:116> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-2090' coro=<CacheManager._cleanup_loop() done, defined at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:116> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-2091' coro=<CacheManager._cleanup_loop() done, defined at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:116> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-2092' coro=<CacheManager._cleanup_loop() done, defined at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:116> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-2093' coro=<CacheManager._cleanup_loop() done, defined at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:116> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-2094' coro=<CacheManager._cleanup_loop() done, defined at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:116> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-2095' coro=<CacheManager._cleanup_loop() done, defined at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:116> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-2096' coro=<CacheManager._cleanup_loop() done, defined at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:116> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-2097' coro=<CacheManager._cleanup_loop() done, defined at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:116> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-1970' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-1971' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-1973' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-1975' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-1977' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-1980' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-1983' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-1984' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-1985' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-1989' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
INFO:webui.backend.backtest2_wrapper:Creating BacktestConfig - class type: <class 'type'>
INFO:webui.backend.backtest2_wrapper:BacktestConfig module: backtest2.core.config
INFO:webui.backend.backtest2_wrapper:BacktestConfig MRO: (<class 'backtest2.core.config.BacktestConfig'>, <class 'object'>)
INFO:webui.backend.backtest2_wrapper:Is dataclass: True
INFO:webui.backend.backtest2_wrapper:Dataclass fields: ['name', 'symbols', 'time_range', 'initial_capital', 'random_seed', 'max_positions', 'position_limits', 'llm_config', 'data_sources', 'reflection_config', 'result_dir', 'slippage', 'commission', 'risk_free_rate', 'benchmark', 'start_date', 'end_date', 'agent_config', 'data_config', 'risk_config', 'enable_parallel', 'max_workers', 'cache_size', 'log_level', 'save_results', 'results_path', 'enable_monitoring']
INFO:webui.backend.backtest2_wrapper:Has random_seed attr: True
INFO:webui.backend.backtest2_wrapper:BacktestConfig.__init__ signature: {'name': <class 'str'>, 'symbols': typing.List[str], 'time_range': typing.Optional[backtest2.core.config.TimeRange], 'initial_capital': <class 'float'>, 'random_seed': <class 'int'>, 'max_positions': <class 'int'>, 'position_limits': typing.Dict[backtest2.core.config.RiskProfile, float], 'llm_config': <class 'backtest2.core.config.LLMConfig'>, 'data_sources': typing.List[str], 'reflection_config': typing.Optional[typing.Dict[str, typing.Any]], 'result_dir': typing.Optional[pathlib._local.Path], 'slippage': <class 'float'>, 'commission': <class 'float'>, 'risk_free_rate': <class 'float'>, 'benchmark': <class 'str'>, 'start_date': typing.Optional[datetime.datetime], 'end_date': typing.Optional[datetime.datetime], 'agent_config': typing.Optional[backtest2.core.config.AgentConfig], 'data_config': typing.Optional[backtest2.core.config.DataConfig], 'risk_config': typing.Optional[backtest2.core.config.RiskConfig], 'enable_parallel': <class 'bool'>, 'max_workers': <class 'int'>, 'cache_size': <class 'int'>, 'log_level': <class 'str'>, 'save_results': <class 'bool'>, 'results_path': <class 'str'>, 'enable_monitoring': <class 'bool'>, 'return': None}
INFO:backtest2.core.engine:Starting backtest execution faa95c7f-4af2-465a-aad1-23d7d2d47b98
INFO:backtest2.core.engine:Initializing backtest environment
INFO:backtest2.data.manager_simple:Initializing data manager
INFO:backtest2.agents.orchestrator:Initialized 12 agents
INFO:backtest2.core.engine:Loading benchmark data for SPY
INFO:backtest2.agents.orchestrator:Starting decision process 211491cc-0e34-4b2d-9c25-59c2fc8f86d1 for AAPL on 2025-04-23 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process a56129b9-1cb6-4aef-b11c-d73843dc55e1 for AAPL on 2025-04-24 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process c9bf8c5e-d296-445a-a1e6-2f673b86da2c for AAPL on 2025-04-25 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 50f3b63b-d66c-48c9-b540-583416dc5555 for AAPL on 2025-04-28 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process d2a970b2-8b86-437e-956d-3f8bb4c1690b for AAPL on 2025-04-29 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 41e5f8db-97b8-4b65-9519-a514e40578e2 for AAPL on 2025-04-30 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 9e63dad8-f2c0-4e68-bb53-9934953e561a for AAPL on 2025-05-01 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 5a845234-0004-44da-a29e-f3dad45270e6 for AAPL on 2025-05-02 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 2347a839-052a-4b53-aaa3-8e2f5855b0d4 for AAPL on 2025-05-05 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 1eb1d61b-bd7f-4523-98ce-1e8f2e595d10 for AAPL on 2025-05-06 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process a7902fd1-219b-4421-a6d1-c16a6ce52880 for AAPL on 2025-05-07 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process e90823b8-c471-4546-887b-6a27f2b4ca04 for AAPL on 2025-05-08 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 1c5556ba-2525-4149-98ea-b9c2f13ff1f4 for AAPL on 2025-05-09 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 0745b3b3-87d3-42a0-b804-b7f43d683bf2 for AAPL on 2025-05-12 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 2a021acb-57fa-44c9-bb7d-bf92a1e954eb for AAPL on 2025-05-13 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process cc95f7eb-6d7d-41ed-b292-267f6cdcae98 for AAPL on 2025-05-14 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 4381a063-1177-42fc-a9ff-951e8b94b415 for AAPL on 2025-05-15 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 33fc43d8-3f4a-4bad-85c4-546c6c8c6609 for AAPL on 2025-05-16 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 84f304c1-bc76-4790-886b-cb31b4daf2e3 for AAPL on 2025-05-19 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 9b1f7591-df6a-4341-999e-b4d121408759 for AAPL on 2025-05-20 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 9b633649-a919-4e01-9745-7e81bcb19476 for AAPL on 2025-05-21 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 8f0926cb-5695-4606-a477-4c2af2a7b12f for AAPL on 2025-05-22 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process fcc4c50b-04ce-473d-a77a-cd9d984763ff for AAPL on 2025-05-23 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process cabce84d-b9eb-4c43-a720-72190cbf6fe7 for AAPL on 2025-05-26 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process e9b6780e-c0db-421e-b1ca-de2eaf69c14e for AAPL on 2025-05-27 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 1dd234cc-9adf-4ab5-9c5d-4a6e9aac9a55 for AAPL on 2025-05-28 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 458799f0-3a43-4a07-b26c-44b2e8cf13e2 for AAPL on 2025-05-29 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 8d4d3cdf-301e-47ec-a8cd-5819310c1203 for AAPL on 2025-05-30 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 6362a888-1fab-4209-a2a6-789417870733 for AAPL on 2025-06-02 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process f3ec332b-3913-4cf6-bd6e-2a7073bbe06e for AAPL on 2025-06-03 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 0ee7d430-4e9c-45ed-b27d-7f743767785f for AAPL on 2025-06-04 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process a7732665-5f9f-4055-804a-684dce402e84 for AAPL on 2025-06-05 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process c6fcd10b-3a9d-41e5-8235-f2c1a7e89f4c for AAPL on 2025-06-06 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process d23577b1-274f-4ba2-9f07-26782bfb080b for AAPL on 2025-06-09 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 4dbcf5ec-e96c-4fb0-bfc7-847d9deee48a for AAPL on 2025-06-10 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 0093ae0c-9967-4b56-96cb-ec067895a309 for AAPL on 2025-06-11 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process f2fa7380-b20e-4c8e-99fc-0c7031762a9c for AAPL on 2025-06-12 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 6de00ebe-5e2b-4a67-85cd-4b925eeae254 for AAPL on 2025-06-13 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process da22ccc7-b668-4fa1-a8fb-aa956d24c5b9 for AAPL on 2025-06-16 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 749daa62-b2c6-40e7-a233-6d9a40ea1731 for AAPL on 2025-06-17 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 0cfb5ae5-58af-47fb-a809-9fb89a30b363 for AAPL on 2025-06-18 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 6c3e46ce-bfc5-4791-81c9-ad0f84f98d98 for AAPL on 2025-06-19 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 8b5c368e-c371-4137-9c8a-a134d260ed0b for AAPL on 2025-06-20 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 1d12dee3-f62f-4cc4-9175-2a0defc53fae for AAPL on 2025-06-23 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process e3cd4ae0-0c27-489f-807b-64f21036586d for AAPL on 2025-06-24 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 396543b4-5dc4-4d92-ba11-5a0432c3ff75 for AAPL on 2025-06-25 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 6de60ada-88fa-403d-8ade-5c7759a4f6ab for AAPL on 2025-06-26 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 3b2957e6-e6fc-4ad9-b446-4f78b3970f9f for AAPL on 2025-06-27 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 47bffd4d-e3da-4fb1-b6c2-181e2c95badb for AAPL on 2025-06-30 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 587fbac1-fb1b-4aba-bb5d-ebefee7fc633 for AAPL on 2025-07-01 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 9fea80a3-3c01-4c65-81d4-f0ef059be83e for AAPL on 2025-07-02 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 5ea3d02b-9fcf-49bd-be18-be3166ce2f05 for AAPL on 2025-07-03 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 5f7b75ec-cfc6-4401-8ef4-a515345a27d6 for AAPL on 2025-07-04 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 0d2b8809-3253-4e7f-99be-bc0c6e564539 for AAPL on 2025-07-07 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process de13d81a-5b12-490b-bd87-c176f40a6291 for AAPL on 2025-07-08 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 2c5676b3-7a56-43c9-8084-b7f29426c5e6 for AAPL on 2025-07-09 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 9b891a8b-05a5-4a7f-90e8-d18575c2f81e for AAPL on 2025-07-10 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process d8dc80c6-6ee1-473f-bf93-85dd6f3dbc0c for AAPL on 2025-07-11 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 064c7d3b-6694-4a57-9745-dff51c72c8ed for AAPL on 2025-07-14 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 428a9d6c-ce8a-44f7-bee2-9827b15d4349 for AAPL on 2025-07-15 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 4d8a8968-ccf2-4e80-b924-7b54cfdc5b74 for AAPL on 2025-07-16 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 5d6137a4-0fc6-4189-9dbd-0b24acb4961d for AAPL on 2025-07-17 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 020ea8d5-eeda-4d4f-9874-b36bfd385649 for AAPL on 2025-07-18 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 660ade23-0a1f-431b-b070-2a2d0c30571e for AAPL on 2025-07-21 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.core.engine:Calculating backtest results
INFO:backtest2.analysis.benchmark:Loading benchmark data for SPY
INFO:backtest2.analysis.benchmark:Loaded 64 benchmark data points
INFO:BacktestLogger:Results saved to results/backtest2_20250722_085053/AAPL
INFO:backtest2.core.engine:Cleaning up backtest resources
INFO:backtest2.data.manager_simple:Closing data manager
INFO:MemoryStore:Saved memories to results/backtest2_20250722_085053/AAPL/memories.json
INFO:backtest2.core.engine:Starting backtest execution 729e2ace-f524-443c-82db-6eee8dfcf11c
INFO:backtest2.core.engine:Initializing backtest environment
INFO:backtest2.data.manager_simple:Initializing data manager
INFO:backtest2.agents.orchestrator:Initialized 12 agents
INFO:backtest2.core.engine:Loading benchmark data for SPY
INFO:backtest2.agents.orchestrator:Starting decision process 094d2e54-fe75-45f6-b23f-bc9dc8703f71 for MSFT on 2025-04-23 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 771bf83a-cc70-41f1-99ac-873cb262c041 for MSFT on 2025-04-24 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 376b0780-577e-4e66-a2d8-5bec7dbc0050 for MSFT on 2025-04-25 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 75672eff-3a67-440a-9a4d-1001d69e57e2 for MSFT on 2025-04-28 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 2625bc87-1a69-4d84-a45e-8efe12b528db for MSFT on 2025-04-29 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process e8d6b9ec-fcc6-44f3-9abc-124652ef44ca for MSFT on 2025-04-30 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 8d61a1c3-5671-4bdb-af0d-81cbc8169f3a for MSFT on 2025-05-01 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 36dddb67-9f42-49b3-9348-668585590e46 for MSFT on 2025-05-02 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process f9fd4d4a-4b34-43a9-88ac-f3d05dee0ef1 for MSFT on 2025-05-05 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process e578fd2f-6d83-4c58-81bf-719c5c516a84 for MSFT on 2025-05-06 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process aa8265f4-e371-4ddc-a512-d642f2dcb5b5 for MSFT on 2025-05-07 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 5f3a172c-773f-4c05-98d3-2a9616fe9863 for MSFT on 2025-05-08 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 079bd86e-a576-4c9b-b531-3600317f8ce5 for MSFT on 2025-05-09 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process cfcb3cb0-3a64-4702-bdde-787c33c98601 for MSFT on 2025-05-12 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 16120ce4-6e83-44b0-bb47-3f0e02575677 for MSFT on 2025-05-13 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 8b7b0679-0b76-4808-8a49-e5740dcf5621 for MSFT on 2025-05-14 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process b820c883-604f-4478-8f4c-f3157e46de96 for MSFT on 2025-05-15 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process fd25054e-02e4-40dc-a10d-a2b2339b815a for MSFT on 2025-05-16 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 80fe7ae0-8b92-4a30-816c-bc0908b25f18 for MSFT on 2025-05-19 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 2301844a-0624-4bb5-a57f-51e372cca967 for MSFT on 2025-05-20 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process b1d360ce-5eaf-491d-8334-5006bb4e06c3 for MSFT on 2025-05-21 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 7fe05746-140d-487a-acb2-90b331b3a431 for MSFT on 2025-05-22 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process fe9ccff9-dc9b-4faa-9067-63ad3e2878cf for MSFT on 2025-05-23 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 07730f46-e14c-442e-bb8e-d74d8ca0106b for MSFT on 2025-05-26 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process c6035e6b-6278-494b-a935-a35ec66d3a17 for MSFT on 2025-05-27 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 920d2dc9-1476-40f7-878a-2388a62cf3d3 for MSFT on 2025-05-28 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 77c0f992-0c19-406a-94ec-6c2ffda9dbb1 for MSFT on 2025-05-29 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 02a248ed-33e8-48fc-b220-26faefb87314 for MSFT on 2025-05-30 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 186ecc0a-a278-4757-ba30-dc8664bb960d for MSFT on 2025-06-02 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 0fb278f5-f9ca-417a-ac8e-25b18c1b7790 for MSFT on 2025-06-03 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 5fe4cd0c-5ea9-4151-8b5d-1d8b8558eb32 for MSFT on 2025-06-04 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process c66065a9-e669-466a-b355-a4bb19cd5504 for MSFT on 2025-06-05 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 4c833fc8-2d36-48a9-ade2-d739b277b3f9 for MSFT on 2025-06-06 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 011036e8-0a7d-40f2-82fa-f0b85be16d6f for MSFT on 2025-06-09 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process bc007f78-cd0c-4c80-9aed-b2daa829284a for MSFT on 2025-06-10 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 061b8274-b4fc-40f0-8bed-b1e98dfd8c11 for MSFT on 2025-06-11 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process a8de2d65-d79d-4e8f-b20b-aeec3f17ec70 for MSFT on 2025-06-12 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process feb517a1-367a-480c-aa0e-a00df744954e for MSFT on 2025-06-13 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process f704d63b-c821-49a8-ae1a-44943bec7f7d for MSFT on 2025-06-16 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 4a3c9ae3-39d3-42d3-8a7d-5b770e1254f3 for MSFT on 2025-06-17 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 922f54e9-e6c2-47b3-a9ab-dc573d9b8392 for MSFT on 2025-06-18 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process afd22cf4-459a-431d-8da1-5c68dcceb85e for MSFT on 2025-06-19 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process a0e9e2a4-abf4-4945-90a3-2a676a48a029 for MSFT on 2025-06-20 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process f79907a3-2be1-4b5a-8f01-fb6d357765cf for MSFT on 2025-06-23 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process a6fe32ab-8e7d-4ff5-9970-ef12171d0e96 for MSFT on 2025-06-24 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process a13f343b-34ea-4946-aaeb-7c0f29317e0c for MSFT on 2025-06-25 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 6f936808-ce73-4842-a758-77973d4a8f03 for MSFT on 2025-06-26 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 8b7f359e-5b34-4dfc-a730-894f535af07a for MSFT on 2025-06-27 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process f819da16-60f5-40d6-8eda-9ea953886ed4 for MSFT on 2025-06-30 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 476ad4c7-c68a-4b11-8219-e3862d52a807 for MSFT on 2025-07-01 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process c8de9d3b-6bf4-4faa-8cbd-02fd4099bfbb for MSFT on 2025-07-02 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process a0bccabd-bb06-4397-b66c-6263bf587aed for MSFT on 2025-07-03 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 0fe690ec-4688-4d13-a997-45228a3fc535 for MSFT on 2025-07-04 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process cfa66d11-ebf7-42f3-a4c4-d53d209e3600 for MSFT on 2025-07-07 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process dcee34c1-8ad0-45c6-b063-60ed48e1fd80 for MSFT on 2025-07-08 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process d4cda482-66fc-4173-a215-0aadbbc88eba for MSFT on 2025-07-09 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 1bddf580-eba0-477a-b135-0beb7d3ef29e for MSFT on 2025-07-10 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process c0e2a8ef-cb8b-4494-b079-c2dc083a7678 for MSFT on 2025-07-11 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 5e2298e2-9955-4411-9b19-edd812043bb0 for MSFT on 2025-07-14 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process ae50af8d-990d-4cf5-b5a0-5f76372f5958 for MSFT on 2025-07-15 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 45fd923c-c1ee-4a7c-a281-6c08b7b6bdbb for MSFT on 2025-07-16 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process f6183ecf-7feb-4578-be57-8e0b892169e0 for MSFT on 2025-07-17 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 72516350-a989-44a8-bb32-d2580dc507d0 for MSFT on 2025-07-18 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 5736878a-a499-4154-adde-92e17f66d5d8 for MSFT on 2025-07-21 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.core.engine:Calculating backtest results
INFO:backtest2.analysis.benchmark:Loading benchmark data for SPY
INFO:backtest2.analysis.benchmark:Loaded 64 benchmark data points
INFO:BacktestLogger:Results saved to results/backtest2_20250722_085053/MSFT
INFO:backtest2.core.engine:Cleaning up backtest resources
INFO:backtest2.data.manager_simple:Closing data manager
INFO:MemoryStore:Saved memories to results/backtest2_20250722_085053/MSFT/memories.json
ERROR:__main__:Application error: 'int' object has no attribute 'get'
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-2322' coro=<CacheManager._cleanup_loop() done, defined at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:116> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-2323' coro=<CacheManager._cleanup_loop() done, defined at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:116> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-2324' coro=<CacheManager._cleanup_loop() done, defined at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:116> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-2325' coro=<CacheManager._cleanup_loop() done, defined at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:116> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-2326' coro=<CacheManager._cleanup_loop() done, defined at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:116> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-2327' coro=<CacheManager._cleanup_loop() done, defined at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:116> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-2328' coro=<CacheManager._cleanup_loop() done, defined at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:116> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-2329' coro=<CacheManager._cleanup_loop() done, defined at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:116> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-2330' coro=<CacheManager._cleanup_loop() done, defined at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:116> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-2331' coro=<CacheManager._cleanup_loop() done, defined at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:116> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-2196' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-2197' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-2198' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-2199' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-2200' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-2201' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-2202' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-2203' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-2205' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-2209' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
INFO:webui.backend.backtest2_wrapper:Successfully imported backtest2 modules (direct import)
INFO:webui.backend.backtest2_wrapper:BacktestConfig type: <class 'type'>
INFO:webui.backend.backtest2_wrapper:BacktestConfig module: backtest2.core.config
INFO:webui.backend.backtest2_wrapper:BacktestConfig existing fields: ['name', 'symbols', 'time_range', 'initial_capital', 'random_seed', 'max_positions', 'position_limits', 'llm_config', 'data_sources', 'reflection_config', 'result_dir', 'slippage', 'commission', 'risk_free_rate', 'benchmark', 'start_date', 'end_date', 'agent_config', 'data_config', 'risk_config', 'enable_parallel', 'max_workers', 'cache_size', 'log_level', 'save_results', 'results_path', 'enable_monitoring']
INFO:webui.backend.backtest2_wrapper:Creating BacktestConfig - class type: <class 'type'>
INFO:webui.backend.backtest2_wrapper:BacktestConfig module: backtest2.core.config
INFO:webui.backend.backtest2_wrapper:BacktestConfig MRO: (<class 'backtest2.core.config.BacktestConfig'>, <class 'object'>)
INFO:webui.backend.backtest2_wrapper:Is dataclass: True
INFO:webui.backend.backtest2_wrapper:Dataclass fields: ['name', 'symbols', 'time_range', 'initial_capital', 'random_seed', 'max_positions', 'position_limits', 'llm_config', 'data_sources', 'reflection_config', 'result_dir', 'slippage', 'commission', 'risk_free_rate', 'benchmark', 'start_date', 'end_date', 'agent_config', 'data_config', 'risk_config', 'enable_parallel', 'max_workers', 'cache_size', 'log_level', 'save_results', 'results_path', 'enable_monitoring']
INFO:webui.backend.backtest2_wrapper:Has random_seed attr: True
INFO:webui.backend.backtest2_wrapper:BacktestConfig.__init__ signature: {'name': <class 'str'>, 'symbols': typing.List[str], 'time_range': typing.Optional[backtest2.core.config.TimeRange], 'initial_capital': <class 'float'>, 'random_seed': <class 'int'>, 'max_positions': <class 'int'>, 'position_limits': typing.Dict[backtest2.core.config.RiskProfile, float], 'llm_config': <class 'backtest2.core.config.LLMConfig'>, 'data_sources': typing.List[str], 'reflection_config': typing.Optional[typing.Dict[str, typing.Any]], 'result_dir': typing.Optional[pathlib._local.Path], 'slippage': <class 'float'>, 'commission': <class 'float'>, 'risk_free_rate': <class 'float'>, 'benchmark': <class 'str'>, 'start_date': typing.Optional[datetime.datetime], 'end_date': typing.Optional[datetime.datetime], 'agent_config': typing.Optional[backtest2.core.config.AgentConfig], 'data_config': typing.Optional[backtest2.core.config.DataConfig], 'risk_config': typing.Optional[backtest2.core.config.RiskConfig], 'enable_parallel': <class 'bool'>, 'max_workers': <class 'int'>, 'cache_size': <class 'int'>, 'log_level': <class 'str'>, 'save_results': <class 'bool'>, 'results_path': <class 'str'>, 'enable_monitoring': <class 'bool'>, 'return': None}
INFO:backtest2.core.engine:Starting backtest execution dbe7ca29-0ccc-4ad3-8142-8c1fccfd7f03
INFO:backtest2.core.engine:Initializing backtest environment
INFO:backtest2.data.manager_simple:Initializing data manager
INFO:backtest2.agents.orchestrator:Initialized 12 agents
INFO:backtest2.core.engine:Loading benchmark data for SPY
INFO:backtest2.agents.orchestrator:Starting decision process bca06939-0658-4b8c-9cf5-09bc8dac5020 for AAPL on 2025-04-23 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 9e0e9610-facf-4cf9-b854-1c10c33c024c for AAPL on 2025-04-24 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process a7d402b4-604e-49f5-af14-f27ce37ff356 for AAPL on 2025-04-25 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 21a4d416-e1b8-46de-881d-006280121a1e for AAPL on 2025-04-28 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 7f33fa6b-bc73-4248-883e-57e7562b0177 for AAPL on 2025-04-29 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 4f74beef-0bfe-4688-9c1c-47ed4b994582 for AAPL on 2025-04-30 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 3946cebb-6547-4285-9d45-f02c8972aed6 for AAPL on 2025-05-01 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process e67f6f5f-c0a9-4188-b474-19c6f404dfef for AAPL on 2025-05-02 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process c9e01de4-9063-45db-8351-fb838d2a9d57 for AAPL on 2025-05-05 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 6f6ae5b0-8997-4f98-8b00-5f08d1ef92e9 for AAPL on 2025-05-06 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 2aaf6a01-e886-431e-b0fb-9b61a18cc1bd for AAPL on 2025-05-07 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process cd61b439-1b26-440f-9bd0-756ae2c72a43 for AAPL on 2025-05-08 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process c8d93219-4235-43a2-841a-f886721678b9 for AAPL on 2025-05-09 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process bd485562-6729-456f-b3fb-18040d210734 for AAPL on 2025-05-12 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process b56cb8ff-158b-4e33-bb37-158ab9ba308e for AAPL on 2025-05-13 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process e42bc88b-d1a9-4f28-a10e-9af0e9730523 for AAPL on 2025-05-14 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 58c131ed-3567-46c8-b773-38f3c8ee17b0 for AAPL on 2025-05-15 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process edeef246-8273-4a4e-895f-ad303e1cbecf for AAPL on 2025-05-16 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process d3b174a6-1f8b-4055-9ade-8985aadbb6d9 for AAPL on 2025-05-19 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process db13e256-16d2-4eb9-85bb-cea1a511e43f for AAPL on 2025-05-20 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 1ba72faa-7e53-4bf6-8c93-54c858037a34 for AAPL on 2025-05-21 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process b10321e1-c2f7-46d4-91b8-641c3a99ff2b for AAPL on 2025-05-22 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 70be538c-109b-49b1-95bd-83b7d49f071d for AAPL on 2025-05-23 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 51d74824-e7db-4d27-bb56-1fcce821c71a for AAPL on 2025-05-26 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process d789d9f4-3d86-41eb-8146-243597eba79f for AAPL on 2025-05-27 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 0dfe61cc-8995-4db8-b180-c655e4d00b1c for AAPL on 2025-05-28 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 7f1426c4-f6a7-4619-814e-9a4c0bfacddb for AAPL on 2025-05-29 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 1c938a86-7aa5-446e-a88a-ae71ad700ea5 for AAPL on 2025-05-30 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process e6ed4424-e25c-4155-b2fa-a436d6f8e87a for AAPL on 2025-06-02 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 1b79e0d1-b811-4809-a03b-571d6e39292d for AAPL on 2025-06-03 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 355ecad2-f4a5-4e1d-be63-3537e738c425 for AAPL on 2025-06-04 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process ffe247dd-f031-4d59-93b4-92665122b80c for AAPL on 2025-06-05 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process f2a39353-eeda-4065-b04b-f5d86887e613 for AAPL on 2025-06-06 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 61dfd3d1-28dc-42a5-88eb-979bc97308fe for AAPL on 2025-06-09 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 54009d5b-098e-4eee-93dd-db2643c933dd for AAPL on 2025-06-10 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 5b8bf24e-97a0-4b49-a967-e4c2037cc1b8 for AAPL on 2025-06-11 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process afff76e3-1136-41f3-9d5e-450ca1644d8b for AAPL on 2025-06-12 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 740de6f3-006e-40c9-a1d5-c329206f70ea for AAPL on 2025-06-13 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 27a6390a-a7c0-47c3-ba5e-9493c27b086b for AAPL on 2025-06-16 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process d5874754-2c5d-49e4-91ab-ce6155320b01 for AAPL on 2025-06-17 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 13dee7ac-3d60-4a31-b9e6-34fbba2d7efe for AAPL on 2025-06-18 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 78b5ecd5-c227-42c3-a9c3-1dc8449c053b for AAPL on 2025-06-19 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 3a354e43-ac5e-4b2b-ab50-b88b40579464 for AAPL on 2025-06-20 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 066d27c8-a361-49ae-8ccd-f362b4effda9 for AAPL on 2025-06-23 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process e3edb76c-0227-4e27-8dcf-3576869e782e for AAPL on 2025-06-24 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 4a0d0ef4-b2d1-43cb-876d-e1168528cd6a for AAPL on 2025-06-25 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 0e520c06-61a9-4c14-b6c6-2884315579a9 for AAPL on 2025-06-26 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process ab8e0ff2-7edd-4af0-ba82-cffbc35fe6a4 for AAPL on 2025-06-27 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 4125081e-0bcb-43ac-941c-b27946bf80b2 for AAPL on 2025-06-30 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process f52cd804-a9cf-4a98-acd9-3807695b3e5e for AAPL on 2025-07-01 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process ce7fceb4-a32d-4193-bc1d-00addf8a3ce4 for AAPL on 2025-07-02 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 603cdce1-6712-4896-886c-d46435358fdc for AAPL on 2025-07-03 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 76881bd4-19d7-4ffc-aa17-8eb7d79bc009 for AAPL on 2025-07-04 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 32f12a07-f86c-4793-b255-9ff90f184339 for AAPL on 2025-07-07 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 7515be08-db1f-4716-b17c-41d8781bb6a0 for AAPL on 2025-07-08 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 8b54bcbd-7d99-4870-b4f8-74c544ca0006 for AAPL on 2025-07-09 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 04e85d28-2e5f-4fac-a3b4-442957788a42 for AAPL on 2025-07-10 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 737907e9-6bc5-407f-9e8b-096779b607ec for AAPL on 2025-07-11 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 508b359c-cc4c-43e2-a7d6-74fc50d10d82 for AAPL on 2025-07-14 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 4b28b0cb-3924-4bdb-949b-949005b05896 for AAPL on 2025-07-15 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process e8688189-ab03-4b28-a888-6284c2f93577 for AAPL on 2025-07-16 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 717565c1-93b4-439f-94b0-f3aba9c994b0 for AAPL on 2025-07-17 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 0bf60542-efe0-4abf-b4cd-f22e5d7db2bf for AAPL on 2025-07-18 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 18056eca-e714-46b3-81f8-2b1e792f2080 for AAPL on 2025-07-21 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.core.engine:Calculating backtest results
INFO:backtest2.analysis.benchmark:Loading benchmark data for SPY
INFO:backtest2.analysis.benchmark:Loaded 64 benchmark data points
INFO:BacktestLogger:Results saved to results/backtest2_20250722_090944/AAPL
INFO:backtest2.core.engine:Cleaning up backtest resources
INFO:backtest2.data.manager_simple:Closing data manager
INFO:MemoryStore:Saved memories to results/backtest2_20250722_090944/AAPL/memories.json
INFO:backtest2.core.engine:Starting backtest execution 98107ea4-b5d6-4cfd-a5d6-4266b7d9e0e4
INFO:backtest2.core.engine:Initializing backtest environment
INFO:backtest2.data.manager_simple:Initializing data manager
INFO:backtest2.agents.orchestrator:Initialized 12 agents
INFO:backtest2.core.engine:Loading benchmark data for SPY
INFO:backtest2.agents.orchestrator:Starting decision process 789d89ca-cfd8-43df-a623-2d43da0d1077 for MSFT on 2025-04-23 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process d253e4d4-496c-46a9-ab3f-d57536e1843d for MSFT on 2025-04-24 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 09e4d8e4-ad83-4ef1-b7a1-a834f249a69a for MSFT on 2025-04-25 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process c31e5e31-0a7f-42c3-bb6c-d9e3bc34f04d for MSFT on 2025-04-28 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 9c6fcf8b-b064-4269-ab18-530ff20e7de2 for MSFT on 2025-04-29 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process a6b47092-1ee4-4ef1-884c-3d7eb90ba41a for MSFT on 2025-04-30 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process ac17ec63-4026-4ceb-9888-03da293b268e for MSFT on 2025-05-01 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 9bda153a-2555-4522-8be6-1daa59dec300 for MSFT on 2025-05-02 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process e4b352e0-e9f4-46a1-a6c4-2a3a91d5c2f9 for MSFT on 2025-05-05 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 7efb7aaa-5048-4614-9ff5-65933f951e45 for MSFT on 2025-05-06 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 6a4a95f8-12f9-4722-b719-13ef3c449283 for MSFT on 2025-05-07 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 602b4c30-c219-43a9-9bf1-de9c189a1b32 for MSFT on 2025-05-08 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process ff6e1595-764d-4d81-a700-e92473097a72 for MSFT on 2025-05-09 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process e2c7ddee-89d8-4495-8f5b-6e2415d1387f for MSFT on 2025-05-12 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 840718dd-80a8-42c0-8e7d-300c8b4543ab for MSFT on 2025-05-13 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process f33c9e43-ed4a-4612-9ea0-9f88483ea6e6 for MSFT on 2025-05-14 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 96262da1-4291-442a-bd70-25bb38728476 for MSFT on 2025-05-15 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 0652bed5-b280-4416-bc21-8b295dd52066 for MSFT on 2025-05-16 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 5af36b1e-dd2e-4b7f-91c7-5eedb33ffbe3 for MSFT on 2025-05-19 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process c69ac204-5095-4345-aa82-b24212832dfd for MSFT on 2025-05-20 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process f00016aa-f61c-4768-bfff-0c8f4507d18d for MSFT on 2025-05-21 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process f22685c3-812b-4c4a-859d-1cc27a0aa235 for MSFT on 2025-05-22 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 8fb6137a-18d8-4761-9952-a6e5becd9f4e for MSFT on 2025-05-23 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process d94d65eb-da5b-4606-b32e-bcf568865fa3 for MSFT on 2025-05-26 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process d3d0e680-0f14-4dfe-b69d-0c876cc9b412 for MSFT on 2025-05-27 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 38172381-76cf-4ba3-a3ef-edd0b2e3fcaf for MSFT on 2025-05-28 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 2cf4d63a-655b-47b5-9088-8bdb5a59dc2c for MSFT on 2025-05-29 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 1bf846ea-984a-49e4-8a80-031bce73e9ed for MSFT on 2025-05-30 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process ab293291-8892-4337-a4c5-099adc18668a for MSFT on 2025-06-02 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 5a17aa89-bff6-49b1-8a1e-e25601c6e8f7 for MSFT on 2025-06-03 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 8ad01e10-8eec-476e-83fb-992c006bd53f for MSFT on 2025-06-04 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 386a23da-4aba-4c08-8b14-2ca54af6bedf for MSFT on 2025-06-05 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 5daee0a0-16ad-4728-aeca-cb5652a010d3 for MSFT on 2025-06-06 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 06d11634-ca84-40bd-b62a-14b1ed33cf09 for MSFT on 2025-06-09 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process d04f60da-b0e6-41cb-839f-d612387b6315 for MSFT on 2025-06-10 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 5fec9158-e5ec-4a83-a662-d9802dd181dd for MSFT on 2025-06-11 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 947ad62f-d52b-4b2f-b594-7d8a9947ff72 for MSFT on 2025-06-12 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process bc4c984c-0a43-4bb3-9e32-1cb2ed300ae3 for MSFT on 2025-06-13 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process aab597fc-abec-4b21-b7a5-7bd8cdcc5bd1 for MSFT on 2025-06-16 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 777f88f2-cf73-4926-ac32-a1f47dd4be01 for MSFT on 2025-06-17 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 9d7bf337-d089-4ff8-8c93-3ca92a3cc6e3 for MSFT on 2025-06-18 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 99254899-b680-4f4e-910e-ab131cb14ec2 for MSFT on 2025-06-19 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 939fd87d-be5c-4dc5-9275-ee28cbc4e92d for MSFT on 2025-06-20 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process b7c97059-270d-4c03-b4bc-6ade6bf146a6 for MSFT on 2025-06-23 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 923f25f6-582b-4db4-b892-b99f1ed38cad for MSFT on 2025-06-24 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process db593e3d-9e6f-49c9-9729-6c8b04100751 for MSFT on 2025-06-25 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 93baadfa-a108-4a88-bc31-5747a4823d9c for MSFT on 2025-06-26 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 26db0ca6-a6a4-4186-8842-a86119471e5e for MSFT on 2025-06-27 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process df449229-33b9-498b-8cbf-902ab12c0422 for MSFT on 2025-06-30 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process f2207098-f0d4-4da3-9fe9-21d2860cf451 for MSFT on 2025-07-01 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 08f3ace4-34ed-495e-85e8-3bc1dcc7870d for MSFT on 2025-07-02 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 361fc0f0-47ae-4469-ba7c-0fada527a229 for MSFT on 2025-07-03 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 5f0b6224-54c2-433a-a9a1-b134d89eb810 for MSFT on 2025-07-04 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process cf31c6e5-619a-4082-96be-93897d93a584 for MSFT on 2025-07-07 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 13cdbc06-2637-4476-8c1f-6a0b715e35db for MSFT on 2025-07-08 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 43d28ae6-224a-4b1c-9105-1471c7c5eb15 for MSFT on 2025-07-09 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 468140b7-5443-49bb-9994-f9d5ebce0a10 for MSFT on 2025-07-10 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process ee53cb91-9b8b-4f7e-88e8-6560c12315d4 for MSFT on 2025-07-11 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 527768ba-4073-40ce-81a7-6692da2b3535 for MSFT on 2025-07-14 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process e0171394-f1c1-420d-9e83-8aa564695e54 for MSFT on 2025-07-15 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 1a7ec331-1dd2-4f2b-af6d-db2ad9b37829 for MSFT on 2025-07-16 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 401d47a8-46d8-4c6e-b078-080bf3528092 for MSFT on 2025-07-17 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process 31727381-d8c4-4e7d-97b1-82f19f32a075 for MSFT on 2025-07-18 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.agents.orchestrator:Starting decision process e1b8dc38-b0f6-4c64-9261-071d9ee8a61a for MSFT on 2025-07-21 00:00:00
INFO:backtest2.agents.orchestrator:Phase 1: Data Collection
ERROR:Agent.Market Analyst:Agent Market Analyst processing failed: 'DecisionContext' object has no attribute 'get'
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 2: Investment Analysis
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type AgentOutput is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 3: Investment Decision
INFO:backtest2.agents.orchestrator:Debate round 1
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Phase 4: Trading Decision
ERROR:Agent.Trader:Agent Trader processing failed: 'DecisionContext' object has no attribute 'get'
INFO:backtest2.agents.orchestrator:Phase 5: Risk Assessment
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
INFO:backtest2.agents.orchestrator:Risk discussion round 1
ERROR:Agent.Aggressive Risk Debator:Agent Aggressive Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Conservative Risk Debator:Agent Conservative Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
ERROR:Agent.Neutral Risk Debator:Agent Neutral Risk Debator processing failed: 'NoneType' object has no attribute 'cash'
INFO:backtest2.agents.orchestrator:Phase 6: Final Decision
ERROR:backtest2.agents.llm_client:Failed to generate structured response: Object of type DecisionContext is not JSON serializable
ERROR:backtest2.agents.orchestrator:Decision process failed: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
Traceback (most recent call last):
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 271, in make_decision
    final_decision = await self._final_decision_phase(risk_assessment, context)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/y-sato/TradingAgents2/backtest2/agents/orchestrator.py", line 516, in _final_decision_phase
    action=TradeAction(final_output.content.get('action', 'HOLD')),
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 726, in __call__
    return cls.__new__(cls, value)
           ~~~~~~~~~~~^^^^^^^^^^^^
  File "/usr/local/Caskroom/miniconda/base/lib/python3.13/enum.py", line 1203, in __new__
    raise ve_exc
ValueError: 'string (BUY/SELL/HOLD)' is not a valid TradeAction
INFO:backtest2.core.engine:Calculating backtest results
INFO:backtest2.analysis.benchmark:Loading benchmark data for SPY
INFO:backtest2.analysis.benchmark:Loaded 64 benchmark data points
INFO:BacktestLogger:Results saved to results/backtest2_20250722_090944/MSFT
INFO:backtest2.core.engine:Cleaning up backtest resources
INFO:backtest2.data.manager_simple:Closing data manager
INFO:MemoryStore:Saved memories to results/backtest2_20250722_090944/MSFT/memories.json
ERROR:__main__:Application error: 'int' object has no attribute 'get'
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-3080' coro=<CacheManager._cleanup_loop() done, defined at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:116> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-3081' coro=<CacheManager._cleanup_loop() done, defined at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:116> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-3082' coro=<CacheManager._cleanup_loop() done, defined at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:116> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-3083' coro=<CacheManager._cleanup_loop() done, defined at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:116> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-3084' coro=<CacheManager._cleanup_loop() done, defined at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:116> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-3085' coro=<CacheManager._cleanup_loop() done, defined at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:116> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-3086' coro=<CacheManager._cleanup_loop() done, defined at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:116> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-3087' coro=<CacheManager._cleanup_loop() done, defined at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:116> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-3088' coro=<CacheManager._cleanup_loop() done, defined at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:116> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-3089' coro=<CacheManager._cleanup_loop() done, defined at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:116> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-2956' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-2958' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-2959' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-2961' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-2963' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-2966' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-2968' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-2969' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-2971' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
ERROR:asyncio:Task was destroyed but it is pending!
task: <Task pending name='Task-2974' coro=<CacheManager._cleanup_loop() running at /Users/y-sato/TradingAgents2/backtest2/utils/cache_manager.py:120> wait_for=<Future pending cb=[Task.task_wakeup()]>>
  Stopping...
