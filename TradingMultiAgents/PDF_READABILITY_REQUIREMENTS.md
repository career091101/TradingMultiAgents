# PDF読みやすさ改善要件書

## 現状の課題分析

### 1. タイポグラフィの問題
- フォントサイズが小さい（本文10pt）
- 行間が狭い（leading 14pt）
- 見出しの階層構造が不明瞭
- 日本語と英語の混在時のフォント調整が不十分

### 2. レイアウトの問題
- マージンが狭い（72pt = 1インチ）
- セクション間の余白が不統一
- 長いテキストブロックで読みづらい
- テーブルのスタイリングが基本的

### 3. 視覚的階層の問題
- 重要情報が埋もれやすい
- 色使いが限定的で情報の優先度が不明瞭
- アイコンや視覚的要素が少ない
- セクション区切りが弱い

### 4. コンテンツ構成の問題
- 情報密度が高すぎる
- 要約と詳細の区別が不明瞭
- ナビゲーションが困難（目次なし）
- ページ番号やヘッダー/フッターの情報不足

## 改善要件

### 1. タイポグラフィ改善要件

#### 1.1 フォントサイズの最適化
- **タイトル**: 28pt → 32pt
- **サブタイトル**: 18pt → 22pt
- **セクションヘッダー**: 14pt → 16pt
- **本文**: 10pt → 11pt
- **キャプション/注釈**: 新規 9pt

#### 1.2 行間・段落間隔の調整
- **本文行間**: 14pt → 16pt (1.45倍)
- **段落間**: 0.2インチ → 0.3インチ
- **リスト項目間**: 新規 0.1インチ

#### 1.3 フォントファミリーの最適化
- **見出し**: ゴシック体（太字）
- **本文**: 明朝体（通常）
- **数値/コード**: 等幅フォント
- **強調**: ゴシック体（中太）

### 2. レイアウト改善要件

#### 2.1 ページマージンの拡張
- **上下マージン**: 72pt → 90pt
- **左右マージン**: 72pt → 85pt
- **内側マージン**: 綴じ代考慮で+10pt

#### 2.2 セクション構造の明確化
- **章番号**: 自動採番システム
- **インデント**: 階層別（0pt, 20pt, 40pt）
- **セクション区切り**: 装飾的な横線やボックス

#### 2.3 コラムレイアウト
- **重要指標**: 2カラム表示
- **リスク/ポジティブ要因**: サイドバー形式
- **アクション項目**: チェックボックス付きリスト

### 3. 視覚的デザイン改善要件

#### 3.1 カラースキーム
```
主要色:
- プライマリ: #1e40af (濃青)
- セカンダリ: #059669 (緑)
- 警告: #dc2626 (赤)
- 注意: #f59e0b (橙)
- 中立: #6b7280 (灰)

背景色:
- セクション背景: #f3f4f6
- ハイライト: #fef3c7
- テーブル偶数行: #f9fafb
```

#### 3.2 視覚的要素の追加
- **アイコン**: 各セクションに関連アイコン
- **グラフ**: 主要指標の視覚化
- **進捗バー**: 信頼度やリスクレベル表示
- **コールアウトボックス**: 重要情報の強調

#### 3.3 情報の視覚的グループ化
- **ボックス**: 関連情報をグループ化
- **背景色**: セクション別の薄い背景色
- **境界線**: 重要度に応じた線の太さ

### 4. コンテンツ構成改善要件

#### 4.1 目次の追加
- **自動生成目次**: クリッカブルリンク付き
- **ページ番号**: 右揃え
- **階層表示**: 最大3階層まで

#### 4.2 エグゼクティブサマリー
- **1ページ要約**: 最重要情報のみ
- **ビジュアル要素**: インフォグラフィック
- **意思決定マトリックス**: 視覚的な判断基準

#### 4.3 ナビゲーション改善
- **ページ番号**: 全ページに表示
- **セクション名**: ヘッダーに現在セクション表示
- **プログレスバー**: ドキュメント進行状況

#### 4.4 付録・参照情報
- **用語集**: 専門用語の解説
- **略語一覧**: 使用略語の説明
- **データソース**: 情報源の明記

## 実装タスク一覧

### フェーズ1: 基礎改善（優先度: 高）
1. **フォントサイズと行間の調整**
   - [ ] スタイル定義の更新
   - [ ] 日本語フォント設定の最適化
   - [ ] 行間・段落間隔の実装

2. **ページレイアウトの改善**
   - [ ] マージン設定の更新
   - [ ] ヘッダー/フッターの充実
   - [ ] ページ番号の実装

3. **目次の実装**
   - [ ] 自動目次生成機能
   - [ ] クリッカブルリンク
   - [ ] ページ番号対応

### フェーズ2: 視覚的改善（優先度: 中）
4. **カラースキームの実装**
   - [ ] カラーパレット定義
   - [ ] セクション別色分け
   - [ ] 重要度別色分け

5. **視覚的要素の追加**
   - [ ] セクションアイコン
   - [ ] 装飾的区切り線
   - [ ] ボックス・枠線デザイン

6. **テーブルデザインの改善**
   - [ ] ヘッダースタイル
   - [ ] 交互背景色
   - [ ] 枠線スタイル

### フェーズ3: 高度な機能（優先度: 低）
7. **データビジュアライゼーション**
   - [ ] グラフ生成機能
   - [ ] 進捗バー実装
   - [ ] インフォグラフィック

8. **インタラクティブ要素**
   - [ ] ハイパーリンク
   - [ ] ブックマーク
   - [ ] メタデータ

9. **アクセシビリティ**
   - [ ] タグ付きPDF
   - [ ] 代替テキスト
   - [ ] 読み上げ対応

## 成功指標
- 読了時間の20%短縮
- 重要情報の発見時間50%短縮
- ユーザー満足度スコア4.5/5以上
- 印刷時の可読性確保
- モバイルデバイスでの表示対応

## 技術的考慮事項
- ReportLabの制約内での実装
- 日本語フォントの互換性
- ファイルサイズの最適化（目標: 1MB以下）
- 生成速度の維持（現状+20%以内）
- 既存コードとの後方互換性