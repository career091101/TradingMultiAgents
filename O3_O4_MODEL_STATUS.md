# o3/o4モデル利用状況レポート

## API接続テスト結果

### ✅ モデルは存在し、アクセス可能

**利用可能なo3/o4モデル**:
- o3-2025-04-16 ✅
- o4-mini-2025-04-16 ✅
- o3-pro, o3-mini, o3-deep-research など

### ⚠️ 特殊な要件

o3/o4モデルには以下の制限があります：

1. **パラメータの違い**
   - ❌ `max_tokens` → ✅ `max_completion_tokens`
   
2. **ロールの制限**
   - ❌ `system`ロールは使用不可
   - ✅ `user`と`assistant`ロールのみ

### 🔍 なぜ取引が0件だったか

現在のbacktest2コードはo3/o4の特殊要件に対応していないため、API呼び出しが失敗しています。

## 推奨される解決策

### 1. 即座に使える代替モデル（推奨）

WebUIで以下のモデルに変更：
- **ディープシンキング**: `gpt-4-turbo-preview` ✅
- **高速シンキング**: `gpt-3.5-turbo` ✅

### 2. モックモードを使用
- APIの問題を回避
- すでに動作確認済み（6件の取引）

### 3. o3/o4対応（高度）
- LLMクライアントコードの修正が必要
- 特殊なパラメータ処理の実装

## WebUI設定の推奨

```
1. 日付範囲: 2024-01-01 〜 2024-12-31
2. LLMプロバイダー: OpenAI
3. モデル設定:
   - ディープ: gpt-4-turbo-preview
   - 高速: gpt-3.5-turbo
4. または「モックLLMを使用」にチェック
```

## 結論

- **o3/o4モデルは実在**するが、特殊な実装が必要
- **現在のコードでは使用不可**
- **gpt-4/gpt-3.5-turboなら即座に使用可能**